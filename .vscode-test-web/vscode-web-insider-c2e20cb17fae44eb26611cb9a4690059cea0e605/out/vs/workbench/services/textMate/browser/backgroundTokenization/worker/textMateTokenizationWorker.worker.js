/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var K=["require","exports","vs/base/common/lifecycle","vs/base/common/observableInternal/debugName","vs/base/common/observableInternal/base","vs/base/common/platform","vs/base/common/equals","vs/base/common/observableInternal/logging","vs/base/common/errors","vs/base/common/observableInternal/autorun","vs/base/common/observableInternal/derived","vs/editor/common/tokens/lineTokens","vs/editor/common/encodedTokenAttributes","vs/base/common/uri","vs/base/common/arrays","vs/base/common/event","vs/base/common/observable","vs/base/common/buffer","vs/editor/common/core/eolCounter","vs/base/common/charCode","vs/editor/common/core/lineRange","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/base/common/path","vs/base/common/strings","vs/base/common/network","vs/base/common/resources","vs/base/common/async","vs/editor/common/languages/nullTokenize","vs/base/common/amd","vs/base/common/assert","vs/base/common/observableInternal/lazyObservableValue","vs/base/common/observableInternal/api","vs/base/common/observableInternal/promise","vs/base/common/cancellation","vs/base/common/observableInternal/utils","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/editor/common/model/fixedArray","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousMultilineTokens","vs/base/common/extpath","vs/amdX","vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/base/common/stopwatch","vs/workbench/services/textMate/browser/tokenizationSupport/textMateTokenizationSupport","vs/workbench/services/textMate/browser/tokenizationSupport/tokenizationSupportWithLineLimit","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateWorkerTokenizer","vs/workbench/services/textMate/common/TMScopeRegistry","vs/workbench/services/textMate/common/TMGrammarFactory","vs/editor/common/core/position","vs/base/common/types","vs/editor/common/core/offsetRange","vs/editor/common/model/mirrorTextModel","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker"],Z=function(B){for(var e=[],S=0,m=B.length;S<m;S++)e[S]=K[B[S]];return e};define(K[28],Z([0,1]),function(B,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$W=e.LoaderEventType=e.$V=void 0,e.$V=!1;var S;(function(y){y[y.LoaderAvailable=1]="LoaderAvailable",y[y.BeginLoadingScript=10]="BeginLoadingScript",y[y.EndLoadingScriptOK=11]="EndLoadingScriptOK",y[y.EndLoadingScriptError=12]="EndLoadingScriptError",y[y.BeginInvokeFactory=21]="BeginInvokeFactory",y[y.EndInvokeFactory=22]="EndInvokeFactory",y[y.NodeBeginEvaluatingScript=31]="NodeBeginEvaluatingScript",y[y.NodeEndEvaluatingScript=32]="NodeEndEvaluatingScript",y[y.NodeBeginNativeRequire=33]="NodeBeginNativeRequire",y[y.NodeEndNativeRequire=34]="NodeEndNativeRequire",y[y.CachedDataFound=60]="CachedDataFound",y[y.CachedDataMissed=61]="CachedDataMissed",y[y.CachedDataRejected=62]="CachedDataRejected",y[y.CachedDataCreated=63]="CachedDataCreated"})(S||(e.LoaderEventType=S={}));class m{static get(){const w=new Map,l=new Map,i=new Map,r=new Map;function c(n,t){n.has(t.detail)||n.set(t.detail,-t.timestamp)}function u(n,t){const s=n.get(t.detail);s&&(s>=0||n.set(t.detail,s+t.timestamp))}let d=[];typeof B=="function"&&typeof B.getStats=="function"&&(d=B.getStats().slice(0).sort((n,t)=>n.timestamp-t.timestamp));for(const n of d)switch(n.type){case S.BeginLoadingScript:c(w,n);break;case S.EndLoadingScriptOK:case S.EndLoadingScriptError:u(w,n);break;case S.BeginInvokeFactory:c(l,n);break;case S.EndInvokeFactory:u(l,n);break;case S.NodeBeginNativeRequire:c(i,n);break;case S.NodeEndNativeRequire:u(i,n);break;case S.NodeBeginEvaluatingScript:c(r,n);break;case S.NodeEndEvaluatingScript:u(r,n);break}let g=0;i.forEach(n=>g+=n);function $(n){const t=[];return n.forEach((s,a)=>t.push([a,s])),t}return{amdLoad:$(w),amdInvoke:$(l),nodeRequire:$(i),nodeEval:$(r),nodeRequireTotal:g}}static toMarkdownTable(w,l){let i="";const r=[];return w.forEach((c,u)=>{r[u]=c.length}),l.forEach(c=>{c.forEach((u,d)=>{typeof u>"u"&&(u=c[d]="-");const g=u.toString().length;r[d]=Math.max(g,r[d])})}),w.forEach((c,u)=>{i+=`| ${c+" ".repeat(r[u]-c.toString().length)} `}),i+=`|
`,w.forEach((c,u)=>{i+=`| ${"-".repeat(r[u])} `}),i+=`|
`,l.forEach(c=>{c.forEach((u,d)=>{typeof u<"u"&&(i+=`| ${u+" ".repeat(r[d]-u.toString().length)} `)}),i+=`|
`}),i}}e.$W=m});var le=this&&this.__createBinding||(Object.create?function(B,e,S,m){m===void 0&&(m=S);var y=Object.getOwnPropertyDescriptor(e,S);(!y||("get"in y?!e.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return e[S]}}),Object.defineProperty(B,m,y)}:function(B,e,S,m){m===void 0&&(m=S),B[m]=e[S]}),fe=this&&this.__setModuleDefault||(Object.create?function(B,e){Object.defineProperty(B,"default",{enumerable:!0,value:e})}:function(B,e){B.default=e}),x=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var e={};if(B!=null)for(var S in B)S!=="default"&&Object.prototype.hasOwnProperty.call(B,S)&&le(e,B,S);return fe(e,B),e};define(K[6],Z([0,1,14]),function(B,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$8c=void 0,e.$9c=y,e.$0c=w,e.$$c=l,e.$_c=i,e.$ad=r,e.$bd=c,S=x(S);const m=($,n)=>$===n;e.$8c=m;function y($=e.$8c){return(n,t)=>S.$wb(n,t,$)}function w(){return($,n)=>JSON.stringify($)===JSON.stringify(n)}function l(){return($,n)=>$.equals(n)}function i($,n,t){if(t!==void 0){const s=$;return s==null||n===void 0||n===null?n===s:t(s,n)}else{const s=$;return(a,f)=>a==null||f===void 0||f===null?f===a:s(a,f)}}function r($,n){if($===n)return!0;if(Array.isArray($)&&Array.isArray(n)){if($.length!==n.length)return!1;for(let t=0;t<$.length;t++)if(!r($[t],n[t]))return!1;return!0}if($&&typeof $=="object"&&n&&typeof n=="object"&&Object.getPrototypeOf($)===Object.prototype&&Object.getPrototypeOf(n)===Object.prototype){const t=$,s=n,a=Object.keys(t),f=Object.keys(s),k=new Set(f);if(a.length!==f.length)return!1;for(const E of a)if(!k.has(E)||!r(t[E],s[E]))return!1;return!0}return!1}function c($){return JSON.stringify(g($))}let u=0;const d=new WeakMap;function g($){if(Array.isArray($))return $.map(g);if($&&typeof $=="object")if(Object.getPrototypeOf($)===Object.prototype){const n=$,t=Object.create(null);for(const s of Object.keys(n).sort())t[s]=g(n[s]);return t}else{let n=d.get($);return n===void 0&&(n=u++,d.set($,n)),n+"----2b76a038c20c4bcc"}return $}}),define(K[3],Z([0,1]),function(B,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$cd=void 0,e.$dd=w,e.$ed=g;class S{constructor(n,t,s){this.owner=n,this.debugNameSource=t,this.referenceFn=s}getDebugName(n){return w(n,this)}}e.$cd=S;const m=new Map,y=new WeakMap;function w($,n){const t=y.get($);if(t)return t;const s=l($,n);if(s){let a=m.get(s)??0;a++,m.set(s,a);const f=a===1?s:`${s}#${a}`;return y.set($,f),f}}function l($,n){const t=y.get($);if(t)return t;const s=n.owner?u(n.owner)+".":"";let a;const f=n.debugNameSource;if(f!==void 0)if(typeof f=="function"){if(a=f(),a!==void 0)return s+a}else return s+f;const k=n.referenceFn;if(k!==void 0&&(a=g(k),a!==void 0))return s+a;if(n.owner!==void 0){const E=i(n.owner,$);if(E!==void 0)return s+E}}function i($,n){for(const t in $)if($[t]===n)return t}const r=new Map,c=new WeakMap;function u($){const n=c.get($);if(n)return n;const t=d($);let s=r.get(t)??0;s++,r.set(t,s);const a=s===1?t:`${t}#${s}`;return c.set($,a),a}function d($){const n=$.constructor;return n?n.name:"Object"}function g($){const n=$.toString(),s=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(n);return(s?s[1]:void 0)?.trim()}}),define(K[7],Z([0,1]),function(B,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Nd=void 0,e.$Ld=m,e.$Md=y;let S;function m(t){S=t}function y(){return S}class w{constructor(){this.a=0,this.d=new WeakMap}b(s){return l([i($("|  ",this.a)),s])}c(s){return s.hadValue?s.didChange?[i(" "),c(u(s.oldValue,70),{color:"red",strikeThrough:!0}),i(" "),c(u(s.newValue,60),{color:"green"})]:[i(" (unchanged)")]:[i(" "),c(u(s.newValue,60),{color:"green"}),i(" (initial)")]}handleObservableChanged(s,a){console.log(...this.b([r("observable value changed"),c(s.debugName,{color:"BlueViolet"}),...this.c(a)]))}formatChanges(s){if(s.size!==0)return c(" (changed deps: "+[...s].map(a=>a.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(s){const a=s.handleChange;this.d.set(s,new Set),s.handleChange=(f,k)=>(this.d.get(s).add(f),a.apply(s,[f,k]))}handleDerivedRecomputed(s,a){const f=this.d.get(s);console.log(...this.b([r("derived recomputed"),c(s.debugName,{color:"BlueViolet"}),...this.c(a),this.formatChanges(f),{data:[{fn:s._debugNameData.referenceFn??s._computeFn}]}])),f.clear()}handleFromEventObservableTriggered(s,a){console.log(...this.b([r("observable from event triggered"),c(s.debugName,{color:"BlueViolet"}),...this.c(a),{data:[{fn:s._getValue}]}]))}handleAutorunCreated(s){const a=s.handleChange;this.d.set(s,new Set),s.handleChange=(f,k)=>(this.d.get(s).add(f),a.apply(s,[f,k]))}handleAutorunTriggered(s){const a=this.d.get(s);console.log(...this.b([r("autorun"),c(s.debugName,{color:"BlueViolet"}),this.formatChanges(a),{data:[{fn:s._debugNameData.referenceFn??s._runFn}]}])),a.clear(),this.a++}handleAutorunFinished(s){this.a--}handleBeginTransaction(s){let a=s.getDebugName();a===void 0&&(a=""),console.log(...this.b([r("transaction"),c(a,{color:"BlueViolet"}),{data:[{fn:s._fn}]}])),this.a++}handleEndTransaction(){this.a--}}e.$Nd=w;function l(t){const s=new Array,a=[];let f="";function k(I){if("length"in I)for(const j of I)j&&k(j);else"text"in I?(f+=`%c${I.text}`,s.push(I.style),I.data&&a.push(...I.data)):"data"in I&&a.push(...I.data)}k(t);const E=[f,...s];return E.push(...a),E}function i(t){return c(t,{color:"black"})}function r(t){return c(n(`${t}: `,10),{color:"black",bold:!0})}function c(t,s={color:"black"}){function a(k){return Object.entries(k).reduce((E,[I,j])=>`${E}${I}:${j};`,"")}const f={color:s.color};return s.strikeThrough&&(f["text-decoration"]="line-through"),s.bold&&(f["font-weight"]="bold"),{text:t,style:a(f)}}function u(t,s){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=s?`"${t}"`:`"${t.substr(0,s-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?d(t,s):g(t,s);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}function d(t,s){let a="[ ",f=!0;for(const k of t){if(f||(a+=", "),a.length-5>s){a+="...";break}f=!1,a+=`${u(k,s-a.length)}`}return a+=" ]",a}function g(t,s){let a="{ ",f=!0;for(const[k,E]of Object.entries(t)){if(f||(a+=", "),a.length-5>s){a+="...";break}f=!1,a+=`${k}: ${u(E,s-a.length)}`}return a+=" }",a}function $(t,s){let a="";for(let f=1;f<=s;f++)a+=t;return a}function n(t,s){for(;t.length<s;)t+=" ";return t}}),define(K[9],Z([0,1,29,2,3,7]),function(B,e,S,m,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$rd=void 0,e.$ld=l,e.$md=i,e.$nd=r,e.$od=c,e.$pd=u,e.$qd=d;function l(n){return new $(new y.$cd(void 0,void 0,n),n,void 0,void 0)}function i(n,t){return new $(new y.$cd(n.owner,n.debugName,n.debugReferenceFn??t),t,void 0,void 0)}function r(n,t){return new $(new y.$cd(n.owner,n.debugName,n.debugReferenceFn??t),t,n.createEmptyChangeSummary,n.handleChange)}function c(n,t){const s=new m.$Vc,a=r({owner:n.owner,debugName:n.debugName,debugReferenceFn:n.debugReferenceFn??t,createEmptyChangeSummary:n.createEmptyChangeSummary,handleChange:n.handleChange},(f,k)=>{s.clear(),t(f,k,s)});return(0,m.$Uc)(()=>{a.dispose(),s.dispose()})}function u(n){const t=new m.$Vc,s=i({owner:void 0,debugName:void 0,debugReferenceFn:n},a=>{t.clear(),n(a,t)});return(0,m.$Uc)(()=>{s.dispose(),t.dispose()})}function d(n,t){let s;return i({debugReferenceFn:t},a=>{const f=n.read(a),k=s;s=f,t({lastValue:k,newValue:f})})}var g;(function(n){n[n.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",n[n.stale=2]="stale",n[n.upToDate=3]="upToDate"})(g||(g={}));class ${get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(t,s,a,f){this._debugNameData=t,this._runFn=s,this.h=a,this.i=f,this.a=g.stale,this.b=0,this.c=!1,this.e=new Set,this.f=new Set,this.g=this.h?.(),(0,w.$Md)()?.handleAutorunCreated(this),this.j(),(0,m.$Nc)(this)}dispose(){this.c=!0;for(const t of this.e)t.removeObserver(this);this.e.clear(),(0,m.$Oc)(this)}j(){if(this.a===g.upToDate)return;const t=this.f;this.f=this.e,this.e=t,this.a=g.upToDate;const s=this.c;try{if(!s){(0,w.$Md)()?.handleAutorunTriggered(this);const a=this.g;this.g=this.h?.(),this._runFn(this,a)}}finally{s||(0,w.$Md)()?.handleAutorunFinished(this);for(const a of this.f)a.removeObserver(this);this.f.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.a===g.upToDate&&(this.a=g.dependenciesMightHaveChanged),this.b++}endUpdate(){if(this.b===1)do{if(this.a===g.dependenciesMightHaveChanged){this.a=g.upToDate;for(const t of this.e)if(t.reportChanges(),this.a===g.stale)break}this.j()}while(this.a!==g.upToDate);this.b--,(0,S.$jd)(()=>this.b>=0)}handlePossibleChange(t){this.a===g.upToDate&&this.e.has(t)&&!this.f.has(t)&&(this.a=g.dependenciesMightHaveChanged)}handleChange(t,s){this.e.has(t)&&!this.f.has(t)&&(!this.i||this.i({changedObservable:t,change:s,didChange:f=>f===t},this.g))&&(this.a=g.stale)}readObservable(t){if(this.c)return t.get();t.addObserver(this);const s=t.get();return this.e.add(t),this.f.delete(t),s}}e.$rd=$,function(n){n.Observer=$}(l||(e.$ld=l={}))}),define(K[4],Z([0,1,6,3,7]),function(B,e,S,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0d=e.$8d=e.$6d=e.$1d=e.$Zd=void 0,e.$Wd=l,e.$Xd=r,e.$Yd=u,e.$2d=$,e.$3d=t,e.$4d=s,e.$5d=a,e.$7d=k,e.$9d=I;let w;function l(o){w=o}let i;function r(o){i=o}let c;function u(o){c=o}class d{get TChange(){return null}reportChanges(){this.get()}read(b){return b?b.readObservable(this):this.get()}map(b,O){const q=O===void 0?void 0:b,H=O===void 0?b:O;return c({owner:q,debugName:()=>{const V=(0,m.$ed)(H);if(V!==void 0)return V;const A=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(H.toString());if(A)return`${this.debugName}.${A[2]}`;if(!q)return`${this.debugName} (mapped)`},debugReferenceFn:H},V=>H(this.read(V),V))}recomputeInitiallyAndOnChange(b,O){return b.add(w(this,O)),this}keepObserved(b){return b.add(i(this)),this}get a(){return this.get()}}e.$Zd=d;class g extends d{constructor(){super(...arguments),this.b=new Set}addObserver(b){const O=this.b.size;this.b.add(b),O===0&&this.c()}removeObserver(b){this.b.delete(b)&&this.b.size===0&&this.f()}c(){}f(){}}e.$1d=g;function $(o,b){const O=new f(o,b);try{o(O)}finally{O.finish()}}let n;function t(o){if(n)o(n);else{const b=new f(o,void 0);n=b;try{o(b)}finally{b.finish(),n=void 0}}}async function s(o,b){const O=new f(o,b);try{await o(O)}finally{O.finish()}}function a(o,b,O){o?b(o):$(b,O)}class f{constructor(b,O){this._fn=b,this.b=O,this.a=[],(0,y.$Md)()?.handleBeginTransaction(this)}getDebugName(){return this.b?this.b():(0,m.$ed)(this._fn)}updateObserver(b,O){this.a.push({observer:b,observable:O}),b.beginUpdate(O)}finish(){const b=this.a;for(let O=0;O<b.length;O++){const{observer:q,observable:H}=b[O];q.endUpdate(H)}this.a=null,(0,y.$Md)()?.handleEndTransaction()}}e.$6d=f;function k(o,b){let O;return typeof o=="string"?O=new m.$cd(void 0,o,void 0):O=new m.$cd(o,void 0,void 0),new E(O,b,S.$8c)}class E extends g{get debugName(){return this.e.getDebugName(this)??"ObservableValue"}constructor(b,O,q){super(),this.e=b,this.g=q,this.d=O}get(){return this.d}set(b,O,q){if(q===void 0&&this.g(this.d,b))return;let H;O||(O=H=new f(()=>{},()=>`Setting ${this.debugName}`));try{const V=this.d;this.h(b),(0,y.$Md)()?.handleObservableChanged(this,{oldValue:V,newValue:b,change:q,didChange:!0,hadValue:!0});for(const C of this.b)O.updateObserver(C,this),C.handleChange(this,q)}finally{H&&H.finish()}}toString(){return`${this.debugName}: ${this.d}`}h(b){this.d=b}}e.$8d=E;function I(o,b){let O;return typeof o=="string"?O=new m.$cd(void 0,o,void 0):O=new m.$cd(o,void 0,void 0),new j(O,b,S.$8c)}class j extends E{h(b){this.d!==b&&(this.d&&this.d.dispose(),this.d=b)}dispose(){this.d?.dispose()}}e.$0d=j}),define(K[10],Z([0,1,29,6,2,4,3,7]),function(B,e,S,m,y,w,l,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Vd=e.$Ud=void 0,e.$Od=r,e.$Pd=c,e.$Qd=u,e.$Rd=d,e.$Sd=g,e.$Td=$;function r(a,f){return f!==void 0?new t(new l.$cd(a,void 0,f),f,void 0,void 0,void 0,m.$8c):new t(new l.$cd(void 0,void 0,a),a,void 0,void 0,void 0,m.$8c)}function c(a,f,k){return new s(new l.$cd(a,void 0,f),f,void 0,void 0,void 0,m.$8c,k)}function u(a,f){return new t(new l.$cd(a.owner,a.debugName,a.debugReferenceFn),f,void 0,void 0,a.onLastObserverRemoved,a.equalsFn??m.$8c)}(0,w.$Yd)(u);function d(a,f){return new t(new l.$cd(a.owner,a.debugName,void 0),f,a.createEmptyChangeSummary,a.handleChange,void 0,a.equalityComparer??m.$8c)}function g(a,f){let k,E;f===void 0?(k=a,E=void 0):(E=a,k=f);const I=new y.$Vc;return new t(new l.$cd(E,void 0,k),j=>(I.clear(),k(j,I)),void 0,void 0,()=>I.dispose(),m.$8c)}function $(a,f){let k,E;f===void 0?(k=a,E=void 0):(E=a,k=f);const I=new y.$Vc;return new t(new l.$cd(E,void 0,k),j=>{I.clear();const o=k(j);return o&&I.add(o),o},void 0,void 0,()=>I.dispose(),m.$8c)}var n;(function(a){a[a.initial=0]="initial",a[a.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",a[a.stale=2]="stale",a[a.upToDate=3]="upToDate"})(n||(n={}));class t extends w.$1d{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(f,k,E,I,j=void 0,o){super(),this._debugNameData=f,this._computeFn=k,this.m=E,this.n=I,this.p=j,this.q=o,this.e=n.initial,this.g=void 0,this.h=0,this.j=new Set,this.k=new Set,this.l=void 0,this.l=this.m?.(),(0,i.$Md)()?.handleDerivedCreated(this)}f(){this.e=n.initial,this.g=void 0;for(const f of this.j)f.removeObserver(this);this.j.clear(),this.p?.()}get(){if(this.b.size===0){const f=this._computeFn(this,this.m?.());return this.f(),f}else{do{if(this.e===n.dependenciesMightHaveChanged){for(const f of this.j)if(f.reportChanges(),this.e===n.stale)break}this.e===n.dependenciesMightHaveChanged&&(this.e=n.upToDate),this.t()}while(this.e!==n.upToDate);return this.g}}t(){if(this.e===n.upToDate)return;const f=this.k;this.k=this.j,this.j=f;const k=this.e!==n.initial,E=this.g;this.e=n.upToDate;const I=this.l;this.l=this.m?.();try{this.g=this._computeFn(this,I)}finally{for(const o of this.k)o.removeObserver(this);this.k.clear()}const j=k&&!this.q(E,this.g);if((0,i.$Md)()?.handleDerivedRecomputed(this,{oldValue:E,newValue:this.g,change:void 0,didChange:j,hadValue:k}),j)for(const o of this.b)o.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(f){this.h++;const k=this.h===1;if(this.e===n.upToDate&&(this.e=n.dependenciesMightHaveChanged,!k))for(const E of this.b)E.handlePossibleChange(this);if(k)for(const E of this.b)E.beginUpdate(this)}endUpdate(f){if(this.h--,this.h===0){const k=[...this.b];for(const E of k)E.endUpdate(this)}(0,S.$jd)(()=>this.h>=0)}handlePossibleChange(f){if(this.e===n.upToDate&&this.j.has(f)&&!this.k.has(f)){this.e=n.dependenciesMightHaveChanged;for(const k of this.b)k.handlePossibleChange(this)}}handleChange(f,k){if(this.j.has(f)&&!this.k.has(f)){const E=this.n?this.n({changedObservable:f,change:k,didChange:j=>j===f},this.l):!0,I=this.e===n.upToDate;if(E&&(this.e===n.dependenciesMightHaveChanged||I)&&(this.e=n.stale,I))for(const j of this.b)j.handlePossibleChange(this)}}readObservable(f){f.addObserver(this);const k=f.get();return this.j.add(f),this.k.delete(f),k}addObserver(f){const k=!this.b.has(f)&&this.h>0;super.addObserver(f),k&&f.beginUpdate(this)}removeObserver(f){const k=this.b.has(f)&&this.h>0;super.removeObserver(f),k&&f.endUpdate(this)}}e.$Ud=t;class s extends t{constructor(f,k,E,I,j=void 0,o,b){super(f,k,E,I,j,o),this.set=b}}e.$Vd=s}),define(K[30],Z([0,1,4]),function(B,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ee=void 0;class m extends S.$1d{get debugName(){return this.h.getDebugName(this)??"LazyObservableValue"}constructor(w,l,i){super(),this.h=w,this.j=i,this.e=!0,this.g=[],this.l=0,this.d=l}get(){return this.k(),this.d}k(){if(!this.e)if(this.e=!0,this.g.length>0){for(const w of this.b)for(const l of this.g)w.handleChange(this,l);this.g.length=0}else for(const w of this.b)w.handleChange(this,void 0)}m(){if(this.l++,this.l===1)for(const w of this.b)w.beginUpdate(this)}n(){if(this.l--,this.l===0){this.k();const w=[...this.b];for(const l of w)l.endUpdate(this)}}addObserver(w){const l=!this.b.has(w)&&this.l>0;super.addObserver(w),l&&w.beginUpdate(this)}removeObserver(w){const l=this.b.has(w)&&this.l>0;super.removeObserver(w),l&&w.endUpdate(this)}set(w,l,i){if(i===void 0&&this.j(this.d,w))return;let r;l||(l=r=new S.$6d(()=>{},()=>`Setting ${this.debugName}`));try{if(this.e=!1,this.o(w),i!==void 0&&this.g.push(i),l.updateObserver({beginUpdate:()=>this.m(),endUpdate:()=>this.n(),handleChange:(c,u)=>{},handlePossibleChange:c=>{}},this),this.l>1)for(const c of this.b)c.handlePossibleChange(this)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this.d}`}o(w){this.d=w}}e.$ee=m}),define(K[31],Z([0,1,6,4,3,30]),function(B,e,S,m,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fe=l;function l(i,r){return i.lazy?new w.$ee(new y.$cd(i.owner,i.debugName,void 0),r,i.equalsFn??S.$8c):new m.$8d(new y.$cd(i.owner,i.debugName,void 0),r,i.equalsFn??S.$8c)}}),define(K[32],Z([0,1,9,4,10,33,3,6,8]),function(B,e,S,m,y,w,l,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$be=e.$ae=e.$_d=e.$$d=void 0,e.$ce=$,e.$de=n;class c{get cachedValue(){return this.a}constructor(s){this.b=s,this.a=(0,m.$7d)(this,void 0)}getValue(){let s=this.a.get();return s||(s=this.b(),this.a.set(s,void 0)),s}}e.$$d=c;class u{constructor(s){this.a=(0,m.$7d)(this,void 0),this.promiseResult=this.a,this.promise=s.then(a=>((0,m.$2d)(f=>{this.a.set(new d(a,void 0),f)}),a),a=>{throw(0,m.$2d)(f=>{this.a.set(new d(void 0,a),f)}),a})}}e.$_d=u;class d{constructor(s,a){this.data=s,this.error=a}getDataOrThrow(){if(this.error)throw this.error;return this.data}}e.$ae=d;class g{constructor(s){this.b=s,this.a=new c(()=>new u(this.b())),this.cachedPromiseResult=(0,y.$Od)(this,a=>this.a.cachedValue.read(a)?.promiseResult.read(a))}getPromise(){return this.a.getValue().promise}}e.$be=g;function $(t,s,a,f){return s||(s=k=>k!=null),new Promise((k,E)=>{let I=!0,j=!1;const o=t.map(O=>({isFinished:s(O),error:a?a(O):!1,state:O})),b=(0,S.$ld)(O=>{const{isFinished:q,error:H,state:V}=o.read(O);(q||H)&&(I?j=!0:b.dispose(),H?E(H===!0?V:H):k(V))});if(f){const O=f.onCancellationRequested(()=>{b.dispose(),O.dispose(),E(new r.$7)});if(f.isCancellationRequested){b.dispose(),O.dispose(),E(new r.$7);return}}I=!1,j&&b.dispose()})}function n(t,s){let a,f;s===void 0?(a=t,f=void 0):(f=t,a=s);let k;return new y.$Ud(new l.$cd(f,void 0,a),E=>(k&&k.dispose(!0),k=new w.$xe,a(E,k.token)),void 0,void 0,()=>k?.dispose(),i.$8c)}}),define(K[34],Z([0,1,15,2,9,4,3,10,7,8,6]),function(B,e,S,m,y,w,l,i,r,c,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Id=e.$Ed=e.$wd=void 0,e.$sd=d,e.$td=$,e.$ud=n,e.$vd=t,e.$xd=a,e.$yd=k,e.$zd=I,e.$Ad=j,e.$Bd=o,e.$Cd=b,e.$Dd=O,e.$Fd=H,e.$Gd=V,e.$Hd=C,e.$Jd=v,e.$Kd=F;function d(M){return new g(M)}class g extends w.$Zd{constructor(P){super(),this.b=P}get debugName(){return this.toString()}get(){return this.b}addObserver(P){}removeObserver(P){}toString(){return`Const: ${this.b}`}}function $(M){const P=(0,w.$7d)("promiseValue",{});return M.then(R=>{P.set({value:R},void 0)}),P}function n(...M){let P,R,U;return M.length===3?[P,R,U]=M:[R,U]=M,new s(new l.$cd(P,void 0,U),R,U,()=>s.globalTransaction,u.$8c)}function t(M,P,R){return new s(new l.$cd(M.owner,M.debugName,M.debugReferenceFn??R),P,R,()=>s.globalTransaction,M.equalsFn??u.$8c)}class s extends w.$1d{constructor(P,R,U,z,G){super(),this.j=P,this.k=R,this._getValue=U,this.l=z,this.n=G,this.g=!1,this.r=Q=>{const J=this._getValue(Q),ee=this.e,re=!this.g||!this.n(ee,J);let ae=!1;re&&(this.e=J,this.g&&(ae=!0,(0,w.$5d)(this.l(),ne=>{(0,r.$Md)()?.handleFromEventObservableTriggered(this,{oldValue:ee,newValue:J,change:void 0,didChange:re,hadValue:this.g});for(const oe of this.b)ne.updateObserver(oe,this),oe.handleChange(this,void 0)},()=>{const ne=this.p();return"Event fired"+(ne?`: ${ne}`:"")})),this.g=!0),ae||(0,r.$Md)()?.handleFromEventObservableTriggered(this,{oldValue:ee,newValue:J,change:void 0,didChange:re,hadValue:this.g})}}p(){return this.j.getDebugName(this)}get debugName(){const P=this.p();return"From Event"+(P?`: ${P}`:"")}c(){this.h=this.k(this.r)}f(){this.h.dispose(),this.h=void 0,this.g=!1,this.e=void 0}get(){return this.h?(this.g||this.r(void 0),this.e):this._getValue(void 0)}}e.$wd=s,function(M){M.Observer=s;function P(R,U){let z=!1;s.globalTransaction===void 0&&(s.globalTransaction=R,z=!0);try{U()}finally{z&&(s.globalTransaction=void 0)}}M.batchEventsGlobally=P}(n||(e.$ud=n={}));function a(M,P){return new f(M,P)}class f extends w.$1d{constructor(P,R){super(),this.debugName=P,this.g=R,this.j=()=>{(0,w.$2d)(U=>{for(const z of this.b)U.updateObserver(z,this),z.handleChange(this,void 0)},()=>this.debugName)}}c(){this.e=this.g(this.j)}f(){this.e.dispose(),this.e=void 0}get(){}}function k(M){return typeof M=="string"?new E(M):new E(void 0,M)}class E extends w.$1d{get debugName(){return new l.$cd(this.g,this.e,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(P,R){super(),this.e=P,this.g=R}trigger(P,R){if(!P){(0,w.$2d)(U=>{this.trigger(U,R)},()=>`Trigger signal ${this.debugName}`);return}for(const U of this.b)P.updateObserver(U,this),U.handleChange(this,R)}get(){}}function I(M,P,R){const U=(0,w.$7d)("debounced",void 0);let z;return R.add((0,y.$ld)(G=>{const Q=M.read(G);z&&clearTimeout(z),z=setTimeout(()=>{(0,w.$2d)(J=>{U.set(Q,J)})},P)})),U}function j(M,P){let R=!1,U,z;return n(G=>{const Q=(0,y.$ld)(J=>{const ee=M.read(J);R?(z&&clearTimeout(z),z=setTimeout(()=>{U=ee,G()},P)):(R=!0,U=ee)});return{dispose(){Q.dispose(),R=!1,U=void 0}}},()=>R?U:M.get())}function o(M,P,R){const U=(0,w.$7d)("triggeredRecently",!1);let z;return R.add(M(()=>{U.set(!0,void 0),z&&clearTimeout(z),z=setTimeout(()=>{U.set(!1,void 0)},P)})),U}function b(M){const P=new q(!1,void 0);return M.addObserver(P),(0,m.$Uc)(()=>{M.removeObserver(P)})}(0,w.$Xd)(b);function O(M,P){const R=new q(!0,P);return M.addObserver(R),P?P(M.get()):M.reportChanges(),(0,m.$Uc)(()=>{M.removeObserver(R)})}(0,w.$Wd)(O);class q{constructor(P,R){this.b=P,this.c=R,this.a=0}beginUpdate(P){this.a++}endUpdate(P){this.a--,this.a===0&&this.b&&(this.c?this.c(P.get()):P.reportChanges())}handlePossibleChange(P){}handleChange(P,R){}}e.$Ed=q;function H(M,P){let R;return(0,i.$Qd)({owner:M,debugReferenceFn:P},z=>(R=P(z,R),R))}function V(M,P){let R;const U=k("derivedObservableWithWritableCache"),z=(0,i.$Od)(M,G=>(U.read(G),R=P(G,R),R));return Object.assign(z,{clearCache:G=>{R=void 0,U.trigger(G)},setCache:(G,Q)=>{R=G,U.trigger(Q)}})}function C(M,P,R,U){let z=new A(R,U);return(0,i.$Qd)({debugReferenceFn:R,owner:M,onLastObserverRemoved:()=>{z.dispose(),z=new A(R)}},Q=>(z.setItems(P.read(Q)),z.getItems()))}class A{constructor(P,R){this.c=P,this.e=R,this.a=new Map,this.b=[]}dispose(){this.a.forEach(P=>P.store.dispose()),this.a.clear()}setItems(P){const R=[],U=new Set(this.a.keys());for(const z of P){const G=this.e?this.e(z):z;let Q=this.a.get(G);if(Q)U.delete(G);else{const J=new m.$Vc;Q={out:this.c(z,J),store:J},this.a.set(G,Q)}R.push(Q.out)}for(const z of U)this.a.get(z).store.dispose(),this.a.delete(z);this.b=R}getItems(){return this.b}}class N{constructor(P){this.observable=P}get onDidChange(){return S.Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}e.$Id=N;function v(M,P){return P instanceof N?P.observable:n(M,P.onDidChange,()=>P.value)}function F(M,P){if(P.length===0)throw new c.$eb;let R=!1,U;const z=n(M,G=>{const Q=new m.$Vc;for(const J of P)Q.add((0,y.$md)({debugName:()=>(0,l.$dd)(z,new l.$cd(M,void 0,void 0))+".updateLastChangedValue"},ee=>{R=!0,U=J.read(ee),G()}));return Q.add({dispose(){R=!1,U=void 0}}),Q},()=>R?U:P[P.length-1].get());return z}}),define(K[16],Z([0,1,4,10,9,34,32,31,7]),function(B,e,S,m,y,w,l,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observableValueOpts=e.derivedWithCancellationToken=e.waitForState=e.PromiseResult=e.ObservablePromise=e.ObservableLazyPromise=e.ObservableLazy=e.wasEventTriggeredRecently=e.observableSignalFromEvent=e.observableSignal=e.observableFromPromise=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithWritableCache=e.derivedObservableWithCache=e.debouncedObservable=e.constObservable=e.autorunWithStoreHandleChanges=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorunDelta=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return S.$7d}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return S.$9d}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return S.$2d}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return S.$5d}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return m.$Od}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return m.$Qd}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return m.$Rd}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return m.$Sd}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return y.$ld}}),Object.defineProperty(e,"autorunDelta",{enumerable:!0,get:function(){return y.$qd}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return y.$nd}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return y.$pd}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return y.$md}}),Object.defineProperty(e,"autorunWithStoreHandleChanges",{enumerable:!0,get:function(){return y.$od}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return w.$sd}}),Object.defineProperty(e,"debouncedObservable",{enumerable:!0,get:function(){return w.$zd}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return w.$Fd}}),Object.defineProperty(e,"derivedObservableWithWritableCache",{enumerable:!0,get:function(){return w.$Gd}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return w.$Cd}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return w.$Dd}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return w.$ud}}),Object.defineProperty(e,"observableFromPromise",{enumerable:!0,get:function(){return w.$td}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return w.$yd}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return w.$xd}}),Object.defineProperty(e,"wasEventTriggeredRecently",{enumerable:!0,get:function(){return w.$Bd}}),Object.defineProperty(e,"ObservableLazy",{enumerable:!0,get:function(){return l.$$d}}),Object.defineProperty(e,"ObservableLazyPromise",{enumerable:!0,get:function(){return l.$be}}),Object.defineProperty(e,"ObservablePromise",{enumerable:!0,get:function(){return l.$_d}}),Object.defineProperty(e,"PromiseResult",{enumerable:!0,get:function(){return l.$ae}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return l.$ce}}),Object.defineProperty(e,"derivedWithCancellationToken",{enumerable:!0,get:function(){return l.$de}}),Object.defineProperty(e,"observableValueOpts",{enumerable:!0,get:function(){return i.$fe}}),!1&&(0,r.$Ld)(new r.$Nd)}),define(K[35],Z([0,1,8,2]),function(B,e,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ze=y,e.$Ae=w,e.$Be=l,e.$Ce=i,e.$De=c,e.$Ee=u,e.$Fe=d,e.$Ge=g,e.$He=$,e.$Ie=n,e.$Je=t,e.$Ke=s,e.$Le=a,e.$Me=f,e.$Ne=k;function y(E){const I=E;return I?typeof I.read=="function":!1}function w(E){const I=E;return I?[I.on,I.pause,I.resume,I.destroy].every(j=>typeof j=="function"):!1}function l(E){const I=E;return I?w(I.stream)&&Array.isArray(I.buffer)&&typeof I.ended=="boolean":!1}function i(E,I){return new r(E,I)}class r{constructor(I,j){this.e=I,this.f=j,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(I){if(!this.a.destroyed){if(this.a.flowing)this.g(I);else if(this.b.data.push(I),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(j=>this.d.push(j))}}error(I){this.a.destroyed||(this.a.flowing?this.h(I):this.b.error.push(I))}end(I){this.a.destroyed||(typeof I<"u"&&this.write(I),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(I){this.c.data.slice(0).forEach(j=>j(I))}h(I){this.c.error.length===0?(0,S.$3)(I):this.c.error.slice(0).forEach(j=>j(I))}i(){this.c.end.slice(0).forEach(I=>I())}on(I,j){if(!this.a.destroyed)switch(I){case"data":this.c.data.push(j),this.resume();break;case"end":this.c.end.push(j),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(j),this.a.flowing&&this.k();break}}removeListener(I,j){if(this.a.destroyed)return;let o;switch(I){case"data":o=this.c.data;break;case"end":o=this.c.end;break;case"error":o=this.c.error;break}if(o){const b=o.indexOf(j);b>=0&&o.splice(b,1)}}j(){if(this.b.data.length>0){const I=this.e(this.b.data);this.g(I),this.b.data.length=0;const j=[...this.d];this.d.length=0,j.forEach(o=>o())}}k(){if(this.c.error.length>0){for(const I of this.b.error)this.h(I);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function c(E,I){const j=[];let o;for(;(o=E.read())!==null;)j.push(o);return I(j)}function u(E,I,j){const o=[];let b;for(;(b=E.read())!==null&&o.length<j;)o.push(b);return b===null&&o.length>0?I(o):{read:()=>{if(o.length>0)return o.shift();if(typeof b<"u"){const O=b;return b=void 0,O}return E.read()}}}function d(E,I){return new Promise((j,o)=>{const b=[];g(E,{onData:O=>{I&&b.push(O)},onError:O=>{I?o(O):j(void 0)},onEnd:()=>{j(I?I(b):void 0)}})})}function g(E,I,j){E.on("error",o=>{j?.isCancellationRequested||I.onError(o)}),E.on("end",()=>{j?.isCancellationRequested||I.onEnd()}),E.on("data",o=>{j?.isCancellationRequested||I.onData(o)})}function $(E,I){return new Promise((j,o)=>{const b=new m.$Vc,O=[],q=C=>{if(O.push(C),O.length>I)return b.dispose(),E.pause(),j({stream:E,buffer:O,ended:!1})},H=C=>(b.dispose(),o(C)),V=()=>(b.dispose(),j({stream:E,buffer:O,ended:!0}));b.add((0,m.$Uc)(()=>E.removeListener("error",H))),E.on("error",H),b.add((0,m.$Uc)(()=>E.removeListener("end",V))),E.on("end",V),b.add((0,m.$Uc)(()=>E.removeListener("data",q))),E.on("data",q)})}function n(E,I){const j=i(I);return j.end(E),j}function t(){const E=i(()=>{throw new Error("not supported")});return E.end(),E}function s(E){let I=!1;return{read:()=>I?null:(I=!0,E)}}function a(E,I,j){const o=i(j);return g(E,{onData:b=>o.write(I.data(b)),onError:b=>o.error(I.error?I.error(b):b),onEnd:()=>o.end()}),o}function f(E,I,j){let o=!1;return{read:()=>{const b=I.read();return o?b:(o=!0,b!==null?j([E,b]):E)}}}function k(E,I,j){let o=!1;const b=i(j);return g(I,{onData:O=>o?b.write(O):(o=!0,b.write(j([E,O]))),onError:O=>b.error(O),onEnd:()=>{o||(o=!0,b.write(E)),b.end()}}),b}}),define(K[17],Z([0,1,36,35]),function(B,e,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Oe=void 0,e.$Pe=c,e.$Qe=u,e.$Re=d,e.$Se=g,e.$Te=$,e.$Ue=n,e.$Ve=t,e.$We=s,e.$Xe=a,e.$Ye=f,e.$Ze=k,e.$1e=E,e.$2e=I,e.$3e=j,e.$4e=o,e.$5e=b,e.$6e=O,e.$7e=q,e.$8e=H,e.$9e=A,m=x(m);const y=typeof Buffer<"u",w=new S.$X(()=>new Uint8Array(256));let l,i;class r{static alloc(v){return y?new r(Buffer.allocUnsafe(v)):new r(new Uint8Array(v))}static wrap(v){return y&&!Buffer.isBuffer(v)&&(v=Buffer.from(v.buffer,v.byteOffset,v.byteLength)),new r(v)}static fromString(v,F){return!(F?.dontUseNodeBuffer||!1)&&y?new r(Buffer.from(v)):(l||(l=new TextEncoder),new r(l.encode(v)))}static fromByteArray(v){const F=r.alloc(v.length);for(let M=0,P=v.length;M<P;M++)F.buffer[M]=v[M];return F}static concat(v,F){if(typeof F>"u"){F=0;for(let R=0,U=v.length;R<U;R++)F+=v[R].byteLength}const M=r.alloc(F);let P=0;for(let R=0,U=v.length;R<U;R++){const z=v[R];M.set(z,P),P+=z.byteLength}return M}constructor(v){this.buffer=v,this.byteLength=this.buffer.byteLength}clone(){const v=r.alloc(this.byteLength);return v.set(this),v}toString(){return y?this.buffer.toString():(i||(i=new TextDecoder),i.decode(this.buffer))}slice(v,F){return new r(this.buffer.subarray(v,F))}set(v,F){if(v instanceof r)this.buffer.set(v.buffer,F);else if(v instanceof Uint8Array)this.buffer.set(v,F);else if(v instanceof ArrayBuffer)this.buffer.set(new Uint8Array(v),F);else if(ArrayBuffer.isView(v))this.buffer.set(new Uint8Array(v.buffer,v.byteOffset,v.byteLength),F);else throw new Error("Unknown argument 'array'")}readUInt32BE(v){return g(this.buffer,v)}writeUInt32BE(v,F){$(this.buffer,v,F)}readUInt32LE(v){return n(this.buffer,v)}writeUInt32LE(v,F){t(this.buffer,v,F)}readUInt8(v){return s(this.buffer,v)}writeUInt8(v,F){a(this.buffer,v,F)}indexOf(v,F=0){return c(this.buffer,v instanceof r?v.buffer:v,F)}}e.$Oe=r;function c(N,v,F=0){const M=v.byteLength,P=N.byteLength;if(M===0)return 0;if(M===1)return N.indexOf(v[0]);if(M>P-F)return-1;const R=w.value;R.fill(v.length);for(let Q=0;Q<v.length;Q++)R[v[Q]]=v.length-Q-1;let U=F+v.length-1,z=U,G=-1;for(;U<P;)if(N[U]===v[z]){if(z===0){G=U;break}U--,z--}else U+=Math.max(v.length-z,R[N[U]]),z=v.length-1;return G}function u(N,v){return N[v+0]<<0>>>0|N[v+1]<<8>>>0}function d(N,v,F){N[F+0]=v&255,v=v>>>8,N[F+1]=v&255}function g(N,v){return N[v]*2**24+N[v+1]*2**16+N[v+2]*2**8+N[v+3]}function $(N,v,F){N[F+3]=v,v=v>>>8,N[F+2]=v,v=v>>>8,N[F+1]=v,v=v>>>8,N[F]=v}function n(N,v){return N[v+0]<<0>>>0|N[v+1]<<8>>>0|N[v+2]<<16>>>0|N[v+3]<<24>>>0}function t(N,v,F){N[F+0]=v&255,v=v>>>8,N[F+1]=v&255,v=v>>>8,N[F+2]=v&255,v=v>>>8,N[F+3]=v&255}function s(N,v){return N[v]}function a(N,v,F){N[F]=v}function f(N){return m.$De(N,v=>r.concat(v))}function k(N){return m.$Ke(N)}function E(N){return m.$Fe(N,v=>r.concat(v))}async function I(N){return N.ended?r.concat(N.buffer):r.concat([...N.buffer,await E(N.stream)])}function j(N){return m.$Ie(N,v=>r.concat(v))}function o(N){return m.$Le(N,{data:v=>typeof v=="string"?r.fromString(v):r.wrap(v)},v=>r.concat(v))}function b(N){return m.$Ce(v=>r.concat(v),N)}function O(N,v){return m.$Me(N,v,F=>r.concat(F))}function q(N,v){return m.$Ne(N,v,F=>r.concat(F))}function H(N){let v=0,F=0,M=0;const P=new Uint8Array(Math.floor(N.length/4*3)),R=z=>{switch(F){case 3:P[M++]=v|z,F=0;break;case 2:P[M++]=v|z>>>2,v=z<<6,F=3;break;case 1:P[M++]=v|z>>>4,v=z<<4,F=2;break;default:v=z<<2,F=1}};for(let z=0;z<N.length;z++){const G=N.charCodeAt(z);if(G>=65&&G<=90)R(G-65);else if(G>=97&&G<=122)R(G-97+26);else if(G>=48&&G<=57)R(G-48+52);else if(G===43||G===45)R(62);else if(G===47||G===95)R(63);else{if(G===61)break;throw new SyntaxError(`Unexpected base64 character ${N[z]}`)}}const U=M;for(;F>0;)R(0);return r.wrap(P).slice(0,U)}const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function A({buffer:N},v=!0,F=!1){const M=F?C:V;let P="";const R=N.byteLength%3;let U=0;for(;U<N.byteLength-R;U+=3){const z=N[U+0],G=N[U+1],Q=N[U+2];P+=M[z>>>2],P+=M[(z<<4|G>>>4)&63],P+=M[(G<<2|Q>>>6)&63],P+=M[Q&63]}if(R===1){const z=N[U+0];P+=M[z>>>2],P+=M[z<<4&63],v&&(P+="==")}else if(R===2){const z=N[U+0],G=N[U+1];P+=M[z>>>2],P+=M[(z<<4|G>>>4)&63],P+=M[G<<2&63],v&&(P+="=")}return P}}),define(K[37],Z([0,1]),function(B,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$he=void 0,e.$he=Symbol("MicrotaskDelay")}),define(K[18],Z([0,1,19]),function(B,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringEOL=void 0,e.$ru=y;var m;(function(w){w[w.Unknown=0]="Unknown",w[w.Invalid=3]="Invalid",w[w.LF=1]="LF",w[w.CRLF=2]="CRLF"})(m||(e.StringEOL=m={}));function y(w){let l=0,i=0,r=0,c=m.Unknown;for(let u=0,d=w.length;u<d;u++){const g=w.charCodeAt(u);g===S.CharCode.CarriageReturn?(l===0&&(i=u),l++,u+1<d&&w.charCodeAt(u+1)===S.CharCode.LineFeed?(c|=m.CRLF,u++):c|=m.Invalid,r=u+1):g===S.CharCode.LineFeed&&(c|=m.LF,l===0&&(i=u),l++,r=u+1)}return l===0&&(i=w.length),[l,i,w.length-r,c]}}),define(K[38],Z([0,1,14]),function(B,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$mD=void 0;class m{constructor(l){this.b=l,this.a=[]}get(l){return l<this.a.length?this.a[l]:this.b}set(l,i){for(;l>=this.a.length;)this.a[this.a.length]=this.b;this.a[l]=i}replace(l,i,r){if(l>=this.a.length)return;if(i===0){this.insert(l,r);return}else if(r===0){this.delete(l,i);return}const c=this.a.slice(0,l),u=this.a.slice(l+i),d=y(r,this.b);this.a=c.concat(d,u)}delete(l,i){i===0||l>=this.a.length||this.a.splice(l,i)}insert(l,i){if(i===0||l>=this.a.length)return;const r=[];for(let c=0;c<i;c++)r[c]=this.b;this.a=(0,S.$Xb)(this.a,l,r)}}e.$mD=m;function y(w,l){const i=[];for(let r=0;r<w;r++)i[r]=l;return i}}),define(K[11],Z([0,1,12]),function(B,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$su=void 0,e.$tu=w;class m{static{this.defaultTokenMetadata=(S.FontStyle.None<<S.MetadataConsts.FONT_STYLE_OFFSET|S.ColorId.DefaultForeground<<S.MetadataConsts.FOREGROUND_OFFSET|S.ColorId.DefaultBackground<<S.MetadataConsts.BACKGROUND_OFFSET)>>>0}static createEmpty(i,r){const c=m.defaultTokenMetadata,u=new Uint32Array(2);return u[0]=i.length,u[1]=c,new m(u,i,r)}static createFromTextAndMetadata(i,r){let c=0,u="";const d=new Array;for(const{text:g,metadata:$}of i)d.push(c+g.length,$),c+=g.length,u+=g;return new m(new Uint32Array(d),u,r)}constructor(i,r,c){this._lineTokensBrand=void 0,this.a=i,this.b=this.a.length>>>1,this.c=r,this.languageIdCodec=c}equals(i){return i instanceof m?this.slicedEquals(i,0,this.b):!1}slicedEquals(i,r,c){if(this.c!==i.c||this.b!==i.b)return!1;const u=r<<1,d=u+(c<<1);for(let g=u;g<d;g++)if(this.a[g]!==i.a[g])return!1;return!0}getLineContent(){return this.c}getCount(){return this.b}getStartOffset(i){return i>0?this.a[i-1<<1]:0}getMetadata(i){return this.a[(i<<1)+1]}getLanguageId(i){const r=this.a[(i<<1)+1],c=S.$nu.getLanguageId(r);return this.languageIdCodec.decodeLanguageId(c)}getStandardTokenType(i){const r=this.a[(i<<1)+1];return S.$nu.getTokenType(r)}getForeground(i){const r=this.a[(i<<1)+1];return S.$nu.getForeground(r)}getClassName(i){const r=this.a[(i<<1)+1];return S.$nu.getClassNameFromMetadata(r)}getInlineStyle(i,r){const c=this.a[(i<<1)+1];return S.$nu.getInlineStyleFromMetadata(c,r)}getPresentation(i){const r=this.a[(i<<1)+1];return S.$nu.getPresentationFromMetadata(r)}getEndOffset(i){return this.a[i<<1]}findTokenIndexAtOffset(i){return m.findIndexInTokensArray(this.a,i)}inflate(){return this}sliceAndInflate(i,r,c){return new y(this,i,r,c)}static convertToEndOffset(i,r){const u=(i.length>>>1)-1;for(let d=0;d<u;d++)i[d<<1]=i[d+1<<1];i[u<<1]=r}static findIndexInTokensArray(i,r){if(i.length<=2)return 0;let c=0,u=(i.length>>>1)-1;for(;c<u;){const d=c+Math.floor((u-c)/2),g=i[d<<1];if(g===r)return d+1;g<r?c=d+1:g>r&&(u=d)}return c}withInserted(i){if(i.length===0)return this;let r=0,c=0,u="";const d=new Array;let g=0;for(;;){const $=r<this.b?this.a[r<<1]:-1,n=c<i.length?i[c]:null;if($!==-1&&(n===null||$<=n.offset)){u+=this.c.substring(g,$);const t=this.a[(r<<1)+1];d.push(u.length,t),r++,g=$}else if(n){if(n.offset>g){u+=this.c.substring(g,n.offset);const t=this.a[(r<<1)+1];d.push(u.length,t),g=n.offset}u+=n.text,d.push(u.length,n.tokenMetadata),c++}else break}return new m(new Uint32Array(d),u,this.languageIdCodec)}getTokenText(i){const r=this.getStartOffset(i),c=this.getEndOffset(i);return this.c.substring(r,c)}forEach(i){const r=this.getCount();for(let c=0;c<r;c++)i(c)}}e.$su=m;class y{constructor(i,r,c,u){this.a=i,this.b=r,this.c=c,this.d=u,this.e=i.findTokenIndexAtOffset(r),this.languageIdCodec=i.languageIdCodec,this.f=0;for(let d=this.e,g=i.getCount();d<g&&!(i.getStartOffset(d)>=c);d++)this.f++}getMetadata(i){return this.a.getMetadata(this.e+i)}getLanguageId(i){return this.a.getLanguageId(this.e+i)}getLineContent(){return this.a.getLineContent().substring(this.b,this.c)}equals(i){return i instanceof y?this.b===i.b&&this.c===i.c&&this.d===i.d&&this.a.slicedEquals(i.a,this.e,this.f):!1}getCount(){return this.f}getStandardTokenType(i){return this.a.getStandardTokenType(this.e+i)}getForeground(i){return this.a.getForeground(this.e+i)}getEndOffset(i){const r=this.a.getEndOffset(this.e+i);return Math.min(this.c,r)-this.b+this.d}getClassName(i){return this.a.getClassName(this.e+i)}getInlineStyle(i,r){return this.a.getInlineStyle(this.e+i,r)}getPresentation(i){return this.a.getPresentation(this.e+i)}findTokenIndexAtOffset(i){return this.a.findTokenIndexAtOffset(i+this.b-this.d)-this.e}getTokenText(i){const r=this.e+i,c=this.a.getStartOffset(r),u=this.a.getEndOffset(r);let d=this.a.getTokenText(r);return c<this.b&&(d=d.substring(this.b-c)),u>this.c&&(d=d.substring(0,d.length-(u-this.c))),d}forEach(i){for(let r=0;r<this.getCount();r++)i(r)}}function w(l,i){const r=i.lineNumber;if(!l.tokenization.isCheapToTokenize(r))return;l.tokenization.forceTokenization(r);const c=l.tokenization.getLineTokens(r),u=c.findTokenIndexAtOffset(i.column-1);return c.getStandardTokenType(u)}}),define(K[39],Z([0,1,11]),function(B,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vu=e.$uu=void 0,e.$wu=y,e.$uu=new Uint32Array(0).buffer;class m{static deleteBeginning(l,i){return l===null||l===e.$uu?l:m.delete(l,0,i)}static deleteEnding(l,i){if(l===null||l===e.$uu)return l;const r=y(l),c=r[r.length-2];return m.delete(l,i,c)}static delete(l,i,r){if(l===null||l===e.$uu||i===r)return l;const c=y(l),u=c.length>>>1;if(i===0&&c[c.length-2]===r)return e.$uu;const d=S.$su.findIndexInTokensArray(c,i),g=d>0?c[d-1<<1]:0,$=c[d<<1];if(r<$){const f=r-i;for(let k=d;k<u;k++)c[k<<1]-=f;return l}let n,t;g!==i?(c[d<<1]=i,n=d+1<<1,t=i):(n=d<<1,t=g);const s=r-i;for(let f=d+1;f<u;f++){const k=c[f<<1]-s;k>t&&(c[n++]=k,c[n++]=c[(f<<1)+1],t=k)}if(n===c.length)return l;const a=new Uint32Array(n);return a.set(c.subarray(0,n),0),a.buffer}static append(l,i){if(i===e.$uu)return l;if(l===e.$uu)return i;if(l===null)return l;if(i===null)return null;const r=y(l),c=y(i),u=c.length>>>1,d=new Uint32Array(r.length+c.length);d.set(r,0);let g=r.length;const $=r[r.length-2];for(let n=0;n<u;n++)d[g++]=c[n<<1]+$,d[g++]=c[(n<<1)+1];return d.buffer}static insert(l,i,r){if(l===null||l===e.$uu)return l;const c=y(l),u=c.length>>>1;let d=S.$su.findIndexInTokensArray(c,i);d>0&&c[d-1<<1]===i&&d--;for(let g=d;g<u;g++)c[g<<1]+=r;return l}}e.$vu=m;function y(w){return w instanceof Uint32Array?w:new Uint32Array(w)}}),define(K[40],Z([0,1,14,17,51,18,39,20]),function(B,e,S,m,y,w,l,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xu=void 0,S=x(S);class r{static deserialize(u,d,g){const $=new Uint32Array(u.buffer),n=(0,m.$Se)(u,d);d+=4;const t=(0,m.$Se)(u,d);d+=4;const s=[];for(let a=0;a<t;a++){const f=(0,m.$Se)(u,d);d+=4,s.push($.subarray(d/4,d/4+f/4)),d+=f}return g.push(new r(n,s)),d}get startLineNumber(){return this.a}get endLineNumber(){return this.a+this.b.length-1}constructor(u,d){this.a=u,this.b=d}getLineRange(){return new i.$Qt(this.a,this.a+this.b.length)}getLineTokens(u){return this.b[u-this.a]}appendLineTokens(u){this.b.push(u)}serializeSize(){let u=0;u+=4,u+=4;for(let d=0;d<this.b.length;d++){const g=this.b[d];if(!(g instanceof Uint32Array))throw new Error("Not supported!");u+=4,u+=g.byteLength}return u}serialize(u,d){(0,m.$Te)(u,this.a,d),d+=4,(0,m.$Te)(u,this.b.length,d),d+=4;for(let g=0;g<this.b.length;g++){const $=this.b[g];if(!($ instanceof Uint32Array))throw new Error("Not supported!");(0,m.$Te)(u,$.byteLength,d),d+=4,u.set(new Uint8Array($.buffer),d),d+=$.byteLength}return d}applyEdit(u,d){const[g,$]=(0,w.$ru)(d);this.c(u),this.d(new y.$Gt(u.startLineNumber,u.startColumn),g,$)}c(u){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return;const d=u.startLineNumber-this.a,g=u.endLineNumber-this.a;if(g<0){const $=g-d;this.a-=$;return}if(!(d>=this.b.length)){if(d<0&&g>=this.b.length){this.a=0,this.b=[];return}if(d===g){this.b[d]=l.$vu.delete(this.b[d],u.startColumn-1,u.endColumn-1);return}if(d>=0)if(this.b[d]=l.$vu.deleteEnding(this.b[d],u.startColumn-1),g<this.b.length){const $=l.$vu.deleteBeginning(this.b[g],u.endColumn-1);this.b[d]=l.$vu.append(this.b[d],$),this.b.splice(d+1,g-d)}else this.b[d]=l.$vu.append(this.b[d],null),this.b=this.b.slice(0,d+1);else{const $=-d;this.a-=$,this.b[g]=l.$vu.deleteBeginning(this.b[g],u.endColumn-1),this.b=this.b.slice(g)}}}d(u,d,g){if(d===0&&g===0)return;const $=u.lineNumber-this.a;if($<0){this.a+=d;return}if(!($>=this.b.length)){if(d===0){this.b[$]=l.$vu.insert(this.b[$],u.column-1,g);return}this.b[$]=l.$vu.deleteEnding(this.b[$],u.column-1),this.b[$]=l.$vu.insert(this.b[$],u.column-1,g),this.e(u.lineNumber,d)}}e(u,d){if(d===0)return;const g=[];for(let $=0;$<d;$++)g[$]=null;this.b=S.$Xb(this.b,u,g)}}e.$xu=r}),define(K[21],Z([0,1,17,40]),function(B,e,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$nD=void 0;class y{static deserialize(l){let i=0;const r=(0,S.$Se)(l,i);i+=4;const c=[];for(let u=0;u<r;u++)i=m.$xu.deserialize(l,i,c);return c}constructor(){this.a=[]}add(l,i){if(this.a.length>0){const r=this.a[this.a.length-1];if(r.endLineNumber+1===l){r.appendLineTokens(i);return}}this.a.push(new m.$xu(l,[i]))}finalize(){return this.a}serialize(){const l=this.b(),i=new Uint8Array(l);return this.c(i),i}b(){let l=0;l+=4;for(let i=0;i<this.a.length;i++)l+=this.a[i].serializeSize();return l}c(l){let i=0;(0,S.$Te)(l,this.a.length,i),i+=4;for(let r=0;r<this.a.length;r++)i=this.a[r].serialize(l,i)}}e.$nD=y}),define(K[41],Z([0,1,19,22,5,23,52]),function(B,e,S,m,y,w,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xg=i,e.$yg=r,e.$zg=c,e.$Ag=u,e.$Bg=d,e.$Cg=t,e.$Dg=s,e.$Eg=a,e.$Fg=f,e.$Gg=k,e.$Hg=E,e.$Ig=I,e.$Jg=j,e.$Kg=o,e.$Lg=b,e.$Mg=O,e.$Ng=V;function i(C){return C===S.CharCode.Slash||C===S.CharCode.Backslash}function r(C){return C.replace(/[\\/]/g,m.$ic.sep)}function c(C){return C.indexOf("/")===-1&&(C=r(C)),/^[a-zA-Z]:(\/|$)/.test(C)&&(C="/"+C),C}function u(C,A=m.$ic.sep){if(!C)return"";const N=C.length,v=C.charCodeAt(0);if(i(v)){if(i(C.charCodeAt(1))&&!i(C.charCodeAt(2))){let M=3;const P=M;for(;M<N&&!i(C.charCodeAt(M));M++);if(P!==M&&!i(C.charCodeAt(M+1))){for(M+=1;M<N;M++)if(i(C.charCodeAt(M)))return C.slice(0,M+1).replace(/[\\/]/g,A)}}return A}else if(f(v)&&C.charCodeAt(1)===S.CharCode.Colon)return i(C.charCodeAt(2))?C.slice(0,2)+A:C.slice(0,2);let F=C.indexOf("://");if(F!==-1){for(F+=3;F<N;F++)if(i(C.charCodeAt(F)))return C.slice(0,F+1)}return""}function d(C){if(!y.$i||!C||C.length<5)return!1;let A=C.charCodeAt(0);if(A!==S.CharCode.Backslash||(A=C.charCodeAt(1),A!==S.CharCode.Backslash))return!1;let N=2;const v=N;for(;N<C.length&&(A=C.charCodeAt(N),A!==S.CharCode.Backslash);N++);return!(v===N||(A=C.charCodeAt(N+1),isNaN(A)||A===S.CharCode.Backslash))}const g=/[\\/:\*\?"<>\|]/g,$=/[/]/g,n=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function t(C,A=y.$i){const N=A?g:$;return!(!C||C.length===0||/^\s+$/.test(C)||(N.lastIndex=0,N.test(C))||A&&n.test(C)||C==="."||C===".."||A&&C[C.length-1]==="."||A&&C.length!==C.trim().length||C.length>255)}function s(C,A,N){const v=C===A;return!N||v?v:!C||!A?!1:(0,w.$Gf)(C,A)}function a(C,A,N,v=m.sep){if(C===A)return!0;if(!C||!A||A.length>C.length)return!1;if(N){if(!(0,w.$Hf)(C,A))return!1;if(A.length===C.length)return!0;let M=A.length;return A.charAt(A.length-1)===v&&M--,C.charAt(M)===v}return A.charAt(A.length-1)!==v&&(A+=v),C.indexOf(A)===0}function f(C){return C>=S.CharCode.A&&C<=S.CharCode.Z||C>=S.CharCode.a&&C<=S.CharCode.z}function k(C,A){return y.$i&&C.endsWith(":")&&(C+=m.sep),(0,m.$kc)(C)||(C=(0,m.$lc)(A,C)),C=(0,m.$jc)(C),E(C)}function E(C){return y.$i?(C=(0,w.$of)(C,m.sep),C.endsWith(":")&&(C+=m.sep)):(C=(0,w.$of)(C,m.sep),C||(C=m.sep)),C}function I(C){const A=(0,m.$jc)(C);return y.$i?C.length>3?!1:j(A)&&(C.length===2||A.charCodeAt(2)===S.CharCode.Backslash):A===m.$ic.sep}function j(C,A=y.$i){return A?f(C.charCodeAt(0))&&C.charCodeAt(1)===S.CharCode.Colon:!1}function o(C,A=y.$i){return j(C,A)?C[0]:void 0}function b(C,A,N){return A.length>C.length?-1:C===A?0:(N&&(C=C.toLowerCase(),A=A.toLowerCase()),C.indexOf(A))}function O(C){const A=C.split(":");let N,v,F;for(const M of A){const P=Number(M);(0,l.$jg)(P)?v===void 0?v=P:F===void 0&&(F=P):N=N?[N,M].join(":"):M}if(!N)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:N,line:v!==void 0?v:void 0,column:F!==void 0?F:v!==void 0?1:void 0}}const q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",H="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function V(C,A,N=8){let v="";for(let M=0;M<N;M++){let P;M===0&&y.$i&&!A&&(N===3||N===4)?P=H:P=q,v+=P.charAt(Math.floor(Math.random()*P.length))}let F;return A?F=`${A}-${v}`:F=v,C?(0,m.$lc)(C,F):F}}),define(K[24],Z([0,1,8,5,23,13,22]),function(B,e,S,m,y,w,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Ug=e.$Sg=e.$Rg=e.$Qg=e.Schemas=void 0,e.$Og=r,e.$Pg=c,e.$Tg=d,S=x(S),m=x(m),l=x(l);var i;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatCodeBlock="vscode-chat-code-block",n.vscodeCopilotBackingChatCodeBlock="vscode-copilot-chat-code-block",n.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm",n.commentsInput="comment",n.codeSetting="code-setting"})(i||(e.Schemas=i={}));function r(n,t){return w.URI.isUri(n)?(0,y.$Gf)(n.scheme,t):(0,y.$Hf)(n,t+":")}function c(n,...t){return t.some(s=>r(n,s))}e.$Qg="vscode-tkn",e.$Rg="tkn";class u{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(t){this.d=t}setDelegate(t){this.e=t}setServerRootPath(t,s){this.f=d(t,s)}getServerRootPath(){return this.f}get g(){return l.$ic.join(this.f,i.vscodeRemoteResource)}set(t,s,a){this.a[t]=s,this.b[t]=a}setConnectionToken(t,s){this.c[t]=s}getPreferredWebSchema(){return this.d}rewrite(t){if(this.e)try{return this.e(t)}catch(I){return S.$3(I),t}const s=t.authority;let a=this.a[s];a&&a.indexOf(":")!==-1&&a.indexOf("[")===-1&&(a=`[${a}]`);const f=this.b[s],k=this.c[s];let E=`path=${encodeURIComponent(t.path)}`;return typeof k=="string"&&(E+=`&${e.$Rg}=${encodeURIComponent(k)}`),w.URI.from({scheme:m.$o?this.d:i.vscodeRemoteResource,authority:`${a}:${f}`,path:this.g,query:E})}}e.$Sg=new u;function d(n,t){return l.$ic.join(t??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}e.$Ug="vs/../../extensions",e.$Vg="vs/../../node_modules",e.$Wg="vs/../../node_modules.asar",e.$Xg="vs/../../node_modules.asar.unpacked",e.$Yg="vscode-app";class g{static{this.a=e.$Yg}asBrowserUri(t){const s=this.b(t,B);return this.uriToBrowserUri(s)}uriToBrowserUri(t){return t.scheme===i.vscodeRemote?e.$Sg.rewrite(t):t.scheme===i.file&&(m.$m||m.$q===`${i.vscodeFileResource}://${g.a}`)?t.with({scheme:i.vscodeFileResource,authority:t.authority||g.a,query:null,fragment:null}):t}asFileUri(t){const s=this.b(t,B);return this.uriToFileUri(s)}uriToFileUri(t){return t.scheme===i.vscodeFileResource?t.with({scheme:i.file,authority:t.authority!==g.a?t.authority:null,query:null,fragment:null}):t}b(t,s){return w.URI.isUri(t)?t:w.URI.parse(s.toUrl(t))}}e.$Zg=new g;var $;(function(n){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(t.get("3"));const s="vscode-coi";function a(k){let E;typeof k=="string"?E=new URL(k).searchParams:k instanceof URL?E=k.searchParams:w.URI.isUri(k)&&(E=new URL(k.toString(!0)).searchParams);const I=E?.get(s);if(I)return t.get(I)}n.getHeadersFromQuery=a;function f(k,E,I){if(!globalThis.crossOriginIsolated)return;const j=E&&I?"3":I?"2":"1";k instanceof URLSearchParams?k.set(s,j):k[s]=j}n.addSearchParam=f})($||(e.COI=$={}))}),define(K[42],Z([0,1,28,24,5,13]),function(B,e,S,m,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$oE=u,y=x(y);class l{constructor(g,$,n){this.id=g,this.dependencies=$,this.callback=n}}class i{static{this.INSTANCE=new i}constructor(){this.a=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",this.b=typeof document=="object",this.c=[],this.d=!1}g(){this.d||(this.d=!0,globalThis.define=(g,$,n)=>{typeof g!="string"&&(n=$,$=g,g=null),(typeof $!="object"||!Array.isArray($))&&(n=$,$=null),this.c.push(new l(g,$,n))},globalThis.define.amd=!0,this.b?this.f=window.trustedTypes?.createPolicy("amdLoader",{createScriptURL(g){if(g.startsWith(window.location.origin)||g.startsWith("vscode-file://vscode-app"))return g;throw new Error(`[trusted_script_src] Invalid script url: ${g}`)}}):this.a&&(this.f=globalThis.trustedTypes?.createPolicy("amdLoader",{createScriptURL(g){return g}})))}async load(g){this.g();const $=await(this.a?this.i(g):this.b?this.h(g):this.j(g));if(!$)throw new Error(`Did not receive a define call from script ${g}`);if(Array.isArray($.dependencies)&&$.dependencies.length>0)throw new Error(`Cannot resolve dependencies for script ${g}. The dependencies are: ${$.dependencies.join(", ")}`);return typeof $.callback=="function"?$.callback([]):$.callback}h(g){return new Promise(($,n)=>{const t=document.createElement("script");t.setAttribute("async","async"),t.setAttribute("type","text/javascript");const s=()=>{t.removeEventListener("load",a),t.removeEventListener("error",f)},a=k=>{s(),$(this.c.pop())},f=k=>{s(),n(k)};t.addEventListener("load",a),t.addEventListener("error",f),this.f&&(g=this.f.createScriptURL(g)),t.setAttribute("src",g),window.document.getElementsByTagName("head")[0].appendChild(t)})}i(g){return new Promise(($,n)=>{try{this.f&&(g=this.f.createScriptURL(g)),importScripts(g),$(this.c.pop())}catch(t){n(t)}})}async j(g){try{const $=globalThis._VSCODE_NODE_MODULES.fs,n=globalThis._VSCODE_NODE_MODULES.vm,t=globalThis._VSCODE_NODE_MODULES.module,s=w.URI.parse(g).fsPath,a=$.readFileSync(s).toString(),f=t.wrap(a.replace(/^#!.*/,""));return new n.Script(f).runInThisContext().apply(),this.c.pop()}catch($){throw $}}}const r=new Map;let c={};typeof globalThis.require=="object"&&(c=globalThis.require.paths??{});async function u(d,g,$){if(S.$V){$===void 0&&($=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit),c[d]&&(d=c[d]);const n=`${d}/${g}`;if(r.has(n))return r.get(n);let t;if(/^\w[\w\d+.-]*:\/\//.test(n))t=n;else{const k=`${$&&!y.$o?m.$Wg:m.$Vg}/${n}`;t=m.$Zg.asBrowserUri(k).toString(!0)}const s=i.INSTANCE.load(t);return r.set(n,s),s}else return await new Promise((n,t)=>{B([d],n,t)}).then(x)}}),define(K[25],Z([0,1,19,41,24,22,5,23,13]),function(B,e,S,m,y,w,l,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.$oh=e.$nh=e.$mh=e.$lh=e.$kh=e.$jh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=e.$8g=void 0,e.$7g=c,e.$ph=d,e.$qh=$,m=x(m),w=x(w);function c(n){return(0,r.$yc)(n,!0)}class u{constructor(t){this.a=t}compare(t,s,a=!1){return t===s?0:(0,i.$zf)(this.getComparisonKey(t,a),this.getComparisonKey(s,a))}isEqual(t,s,a=!1){return t===s?!0:!t||!s?!1:this.getComparisonKey(t,a)===this.getComparisonKey(s,a)}getComparisonKey(t,s=!1){return t.with({path:this.a(t)?t.path.toLowerCase():void 0,fragment:s?null:void 0}).toString()}ignorePathCasing(t){return this.a(t)}isEqualOrParent(t,s,a=!1){if(t.scheme===s.scheme){if(t.scheme===y.Schemas.file)return m.$Eg(c(t),c(s),this.a(t))&&t.query===s.query&&(a||t.fragment===s.fragment);if((0,e.$lh)(t.authority,s.authority))return m.$Eg(t.path,s.path,this.a(t),"/")&&t.query===s.query&&(a||t.fragment===s.fragment)}return!1}joinPath(t,...s){return r.URI.joinPath(t,...s)}basenameOrAuthority(t){return(0,e.$dh)(t)||t.authority}basename(t){return w.$ic.basename(t.path)}extname(t){return w.$ic.extname(t.path)}dirname(t){if(t.path.length===0)return t;let s;return t.scheme===y.Schemas.file?s=r.URI.file(w.$oc(c(t))).path:(s=w.$ic.dirname(t.path),t.authority&&s.length&&s.charCodeAt(0)!==S.CharCode.Slash&&(console.error(`dirname("${t.toString})) resulted in a relative path`),s="/")),t.with({path:s})}normalizePath(t){if(!t.path.length)return t;let s;return t.scheme===y.Schemas.file?s=r.URI.file(w.$jc(c(t))).path:s=w.$ic.normalize(t.path),t.with({path:s})}relativePath(t,s){if(t.scheme!==s.scheme||!(0,e.$lh)(t.authority,s.authority))return;if(t.scheme===y.Schemas.file){const k=w.$nc(c(t),c(s));return l.$i?m.$yg(k):k}let a=t.path||"/";const f=s.path||"/";if(this.a(t)){let k=0;for(const E=Math.min(a.length,f.length);k<E&&!(a.charCodeAt(k)!==f.charCodeAt(k)&&a.charAt(k).toLowerCase()!==f.charAt(k).toLowerCase());k++);a=f.substr(0,k)+a.substr(k)}return w.$ic.relative(a,f)}resolvePath(t,s){if(t.scheme===y.Schemas.file){const a=r.URI.file(w.$mc(c(t),s));return t.with({authority:a.authority,path:a.path})}return s=m.$zg(s),t.with({path:w.$ic.resolve(t.path,s)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,s){return t===s||t!==void 0&&s!==void 0&&(0,i.$Gf)(t,s)}hasTrailingPathSeparator(t,s=w.sep){if(t.scheme===y.Schemas.file){const a=c(t);return a.length>m.$Ag(a).length&&a[a.length-1]===s}else{const a=t.path;return a.length>1&&a.charCodeAt(a.length-1)===S.CharCode.Slash&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,s=w.sep){return(0,e.$mh)(t,s)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,s=w.sep){let a=!1;if(t.scheme===y.Schemas.file){const f=c(t);a=f!==void 0&&f.length===m.$Ag(f).length&&f[f.length-1]===s}else{s="/";const f=t.path;a=f.length===1&&f.charCodeAt(f.length-1)===S.CharCode.Slash}return!a&&!(0,e.$mh)(t,s)?t.with({path:t.path+"/"}):t}}e.$8g=u,e.$9g=new u(()=>!1),e.$0g=new u(n=>n.scheme===y.Schemas.file?!l.$k:!0),e.$$g=new u(n=>!0),e.$_g=e.$9g.isEqual.bind(e.$9g),e.$ah=e.$9g.isEqualOrParent.bind(e.$9g),e.$bh=e.$9g.getComparisonKey.bind(e.$9g),e.$ch=e.$9g.basenameOrAuthority.bind(e.$9g),e.$dh=e.$9g.basename.bind(e.$9g),e.$eh=e.$9g.extname.bind(e.$9g),e.$fh=e.$9g.dirname.bind(e.$9g),e.$gh=e.$9g.joinPath.bind(e.$9g),e.$hh=e.$9g.normalizePath.bind(e.$9g),e.$ih=e.$9g.relativePath.bind(e.$9g),e.$jh=e.$9g.resolvePath.bind(e.$9g),e.$kh=e.$9g.isAbsolutePath.bind(e.$9g),e.$lh=e.$9g.isEqualAuthority.bind(e.$9g),e.$mh=e.$9g.hasTrailingPathSeparator.bind(e.$9g),e.$nh=e.$9g.removeTrailingPathSeparator.bind(e.$9g),e.$oh=e.$9g.addTrailingPathSeparator.bind(e.$9g);function d(n,t){const s=[];for(let a=0;a<n.length;a++){const f=t(n[a]);n.some((k,E)=>E===a?!1:(0,e.$ah)(f,t(k)))||s.push(n[a])}return s}var g;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function t(s){const a=new Map;s.path.substring(s.path.indexOf(";")+1,s.path.lastIndexOf(";")).split(";").forEach(E=>{const[I,j]=E.split(":");I&&j&&a.set(I,j)});const k=s.path.substring(0,s.path.indexOf(";"));return k&&a.set(n.META_DATA_MIME,k),a}n.parseMetaData=t})(g||(e.DataUri=g={}));function $(n,t,s){if(t){let a=n.path;return a&&a[0]!==w.$ic.sep&&(a=w.$ic.sep+a),n.with({scheme:s,authority:t,path:a})}return n.with({scheme:s})}}),define(K[26],Z([0,1,33,8,15,2,25,5,37,36]),function(B,e,S,m,y,w,l,i,r,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9h=e.$7h=e.$6h=e.$5h=e.$4h=e.Promises=e.$3h=e.$2h=e.$1h=e.$Yh=e.$Xh=e.$Wh=e.$Vh=e.$Uh=e.$Th=e.$Sh=e.$Rh=e.$Qh=e.$Ph=e.$Oh=e.$Nh=e.$Mh=e.$Lh=e.$Fh=e.$Eh=e.$Dh=e.$Ch=e.$Bh=e.$Ah=e.$zh=void 0,e.$rh=u,e.$sh=d,e.$th=g,e.$uh=$,e.$vh=n,e.$wh=t,e.$xh=s,e.$yh=a,e.$Gh=H,e.$Hh=V,e.$Ih=C,e.$Jh=A,e.$Kh=N,e.$Zh=ae,e.$8h=$e;function u(p){return!!p&&typeof p.then=="function"}function d(p){const h=new S.$xe,T=p(h.token),D=new Promise((L,W)=>{const X=h.token.onCancellationRequested(()=>{X.dispose(),W(new m.$7)});Promise.resolve(T).then(_=>{X.dispose(),h.dispose(),L(_)},_=>{X.dispose(),h.dispose(),W(_)})});return new class{cancel(){h.cancel(),h.dispose()}then(L,W){return D.then(L,W)}catch(L){return this.then(void 0,L)}finally(L){return D.finally(L)}}}function g(p,h,T){return new Promise((D,L)=>{const W=h.onCancellationRequested(()=>{W.dispose(),D(T)});p.then(D,L).finally(()=>W.dispose())})}function $(p,h){return new Promise((T,D)=>{const L=h.onCancellationRequested(()=>{L.dispose(),D(new m.$7)});p.then(T,D).finally(()=>L.dispose())})}async function n(p){let h=-1;const T=p.map((D,L)=>D.then(W=>(h=L,W)));try{return await Promise.race(T)}finally{p.forEach((D,L)=>{L!==h&&D.cancel()})}}function t(p,h,T){let D;const L=setTimeout(()=>{D?.(void 0),T?.()},h);return Promise.race([p.finally(()=>clearTimeout(L)),new Promise(W=>D=W)])}function s(p){return new Promise((h,T)=>{const D=p();u(D)?D.then(h,T):h(D)})}function a(){let p,h;return{promise:new Promise((D,L)=>{p=D,h=L}),resolve:p,reject:h}}class f{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(h){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=h,!this.b){const T=()=>{if(this.b=null,this.f)return;const D=this.queue(this.d);return this.d=null,D};this.b=new Promise(D=>{this.a.then(T,T).then(D)})}return new Promise((T,D)=>{this.b.then(T,D)})}return this.a=h(),new Promise((T,D)=>{this.a.then(L=>{this.a=null,T(L)},L=>{this.a=null,D(L)})})}dispose(){this.f=!0}}e.$zh=f;class k{constructor(){this.a=Promise.resolve(null)}queue(h){return this.a=this.a.then(()=>h(),()=>h())}}e.$Ah=k;class E{constructor(){this.a=new Map}queue(h,T){const L=(this.a.get(h)??Promise.resolve()).catch(()=>{}).then(T).finally(()=>{this.a.get(h)===L&&this.a.delete(h)});return this.a.set(h,L),L}}e.$Bh=E;const I=(p,h)=>{let T=!0;const D=setTimeout(()=>{T=!1,h()},p);return{isTriggered:()=>T,dispose:()=>{clearTimeout(D),T=!1}}},j=p=>{let h=!0;return queueMicrotask(()=>{h&&(h=!1,p())}),{isTriggered:()=>h,dispose:()=>{h=!1}}};class o{constructor(h){this.defaultDelay=h,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(h,T=this.defaultDelay){this.g=h,this.h(),this.b||(this.b=new Promise((L,W)=>{this.d=L,this.f=W}).then(()=>{if(this.b=null,this.d=null,this.g){const L=this.g;return this.g=null,L()}}));const D=()=>{this.a=null,this.d?.(null)};return this.a=T===r.$he?j(D):I(T,D),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new m.$7),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$Ch=o;class b{constructor(h){this.a=new o(h),this.b=new f}trigger(h,T){return this.a.trigger(()=>this.b.queue(h),T)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$Dh=b;class O{constructor(){this.a=!1,this.b=new Promise((h,T)=>{this.d=h})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$Eh=O;class q extends O{constructor(h){super(),this.f=setTimeout(()=>this.open(),h)}open(){clearTimeout(this.f),super.open()}}e.$Fh=q;function H(p,h){return h?new Promise((T,D)=>{const L=setTimeout(()=>{W.dispose(),T()},p),W=h.onCancellationRequested(()=>{clearTimeout(L),W.dispose(),D(new m.$7)})}):d(T=>H(p,T))}function V(p,h=0,T){const D=setTimeout(()=>{p(),T&&L.dispose()},h),L=(0,w.$Uc)(()=>{clearTimeout(D),T?.deleteAndLeak(L)});return T?.add(L),L}function C(p){const h=[];let T=0;const D=p.length;function L(){return T<D?p[T++]():null}function W(X){X!=null&&h.push(X);const _=L();return _?_.then(W):Promise.resolve(h)}return Promise.resolve(null).then(W)}function A(p,h=D=>!!D,T=null){let D=0;const L=p.length,W=()=>{if(D>=L)return Promise.resolve(T);const X=p[D++];return Promise.resolve(X()).then(se=>h(se)?Promise.resolve(se):W())};return W()}function N(p,h=D=>!!D,T=null){if(p.length===0)return Promise.resolve(T);let D=p.length;const L=()=>{D=-1;for(const W of p)W.cancel?.()};return new Promise((W,X)=>{for(const _ of p)_.then(se=>{--D>=0&&h(se)?(L(),W(se)):D===0&&W(T)}).catch(se=>{--D>=0&&(L(),X(se))})})}class v{constructor(h){this.a=0,this.b=!1,this.f=h,this.g=[],this.d=0,this.h=new y.$me}whenIdle(){return this.size>0?y.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(h){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((T,D)=>{this.g.push({factory:h,c:T,e:D}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const h=this.g.shift();this.d++;const T=h.factory();T.then(h.c,h.e),T.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$Lh=v;class F extends v{constructor(){super(1)}}e.$Mh=F;class M{constructor(){this.a=new ne,this.b=0}queue(h){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,h())):this.a.run(this.b++,h())}}e.$Nh=M;class P{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const h=new he;return this.b.add(h),h.p}g(){for(const[,h]of this.a)if(h.size>0)return!1;return!0}queueSize(h,T=l.$9g){const D=T.getComparisonKey(h);return this.a.get(D)?.size??0}queueFor(h,T,D=l.$9g){const L=D.getComparisonKey(h);let W=this.a.get(L);if(!W){W=new F;const X=this.f++,_=y.Event.once(W.onDrained)(()=>{W?.dispose(),this.a.delete(L),this.h(),this.d?.deleteAndDispose(X),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new w.$6c),this.d.set(X,_),this.a.set(L,W)}return W.queue(T)}h(){this.g()&&this.j()}j(){for(const h of this.b)h.complete();this.b.clear()}dispose(){for(const[,h]of this.a)h.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$Oh=P;class R{constructor(h,T){this.b=!1,this.a=-1,typeof h=="function"&&typeof T=="number"&&this.setIfNotSet(h,T)}dispose(){this.cancel(),this.b=!0}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(h,T){if(this.b)throw new m.$eb("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this.a=setTimeout(()=>{this.a=-1,h()},T)}setIfNotSet(h,T){if(this.b)throw new m.$eb("Calling 'setIfNotSet' on a disposed TimeoutTimer");this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,h()},T))}}e.$Ph=R;class U{constructor(){this.d=void 0,this.f=!1}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(h,T,D=globalThis){if(this.f)throw new m.$eb("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const L=D.setInterval(()=>{h()},T);this.d=(0,w.$Uc)(()=>{D.clearInterval(L),this.d=void 0})}dispose(){this.cancel(),this.f=!0}}e.$Qh=U;class z{constructor(h,T){this.b=-1,this.a=h,this.d=T,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(h=this.d){this.cancel(),this.b=setTimeout(this.f,h)}get delay(){return this.d}set delay(h){this.d=h}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$Rh=z;class G{constructor(h,T){T%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${T}ms is not a multiple of 1000ms.`),this.a=h,this.b=T,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(h=this.b){h%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${h}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(h/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$Sh=G;class Q extends z{constructor(h,T){super(h,T),this.j=[]}work(h){this.j.push(h),this.isScheduled()||this.schedule()}h(){const h=this.j;this.j=[],this.a?.(h)}dispose(){this.j=[],super.dispose()}}e.$Th=Q;class J extends w.$Wc{constructor(h,T){super(),this.g=h,this.h=T,this.a=[],this.b=this.B(new w.$Xc),this.f=!1}get pending(){return this.a.length}work(h){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+h.length>this.g.maxBufferedWork)return!1}else if(this.pending+h.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const T of h)this.a.push(T);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new z(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$Uh=J,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$Wh=(p,h)=>{(0,i.$B)(()=>{if(T)return;const D=Date.now()+15;h(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,D-Date.now())}}))});let T=!1;return{dispose(){T||(T=!0)}}}:e.$Wh=(p,h,T)=>{const D=p.requestIdleCallback(h,typeof T=="number"?{timeout:T}:void 0);let L=!1;return{dispose(){L||(L=!0,p.cancelIdleCallback(D))}}},e.$Vh=p=>(0,e.$Wh)(globalThis,p)}();class ee{constructor(h,T){this.g=!1,this.d=()=>{try{this.j=T()}catch(D){this.l=D}finally{this.g=!0}},this.f=(0,e.$Wh)(h,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$Xh=ee;class re extends ee{constructor(h){super(globalThis,h)}}e.$Yh=re;async function ae(p,h,T){let D;for(let L=0;L<T;L++)try{return await p()}catch(W){D=W,await H(h)}throw D}class ne{isRunning(h){return typeof h=="number"?this.a?.taskId===h:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(h,T,D){return this.a={taskId:h,cancel:()=>D?.(),promise:T},T.then(()=>this.d(h),()=>this.d(h)),T}d(h){this.a&&h===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const h=this.b;this.b=void 0,h.run().then(h.promiseResolve,h.promiseReject)}}queue(h){if(this.b)this.b.run=h;else{const{promise:T,resolve:D,reject:L}=a();this.b={run:h,promise:T,promiseResolve:D,promiseReject:L}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$1h=ne;class oe{constructor(h,T=()=>Date.now()){this.d=h,this.f=T,this.a=0,this.b=0}increment(){const h=this.f();return h-this.a>this.d&&(this.a=h,this.b=0),this.b++,this.b}}e.$2h=oe;var ie;(function(p){p[p.Resolved=0]="Resolved",p[p.Rejected=1]="Rejected"})(ie||(ie={}));class he{get isRejected(){return this.d?.outcome===ie.Rejected}get isResolved(){return this.d?.outcome===ie.Resolved}get isSettled(){return!!this.d}get value(){return this.d?.outcome===ie.Resolved?this.d?.value:void 0}constructor(){this.p=new Promise((h,T)=>{this.a=h,this.b=T})}complete(h){return new Promise(T=>{this.a(h),this.d={outcome:ie.Resolved,value:h},T()})}error(h){return new Promise(T=>{this.b(h),this.d={outcome:ie.Rejected,value:h},T()})}cancel(){return this.error(new m.$7)}}e.$3h=he;var ue;(function(p){async function h(D){let L;const W=await Promise.all(D.map(X=>X.then(_=>_,_=>{L||(L=_)})));if(typeof L<"u")throw L;return W}p.settled=h;function T(D){return new Promise(async(L,W)=>{try{await D(L,W)}catch(X){W(X)}})}p.withAsyncBody=T})(ue||(e.Promises=ue={}));class ce{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(h){this.a=void 0,this.b=void 0,this.d=!1,this.promise=h.then(T=>(this.a=T,this.d=!0,T),T=>{throw this.b=T,this.d=!0,T})}requireValue(){if(!this.d)throw new m.$eb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$4h=ce;class ge{constructor(h){this.b=h,this.a=new c.$X(()=>new ce(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$5h=ge;var te;(function(p){p[p.Initial=0]="Initial",p[p.DoneOK=1]="DoneOK",p[p.DoneError=2]="DoneError"})(te||(te={}));class Y{static fromArray(h){return new Y(T=>{T.emitMany(h)})}static fromPromise(h){return new Y(async T=>{T.emitMany(await h)})}static fromPromises(h){return new Y(async T=>{await Promise.all(h.map(async D=>T.emitOne(await D)))})}static merge(h){return new Y(async T=>{await Promise.all(h.map(async D=>{for await(const L of D)T.emitOne(L)}))})}static{this.EMPTY=Y.fromArray([])}constructor(h,T){this.a=te.Initial,this.b=[],this.d=null,this.f=T,this.g=new y.$me,queueMicrotask(async()=>{const D={emitOne:L=>this.h(L),emitMany:L=>this.j(L),reject:L=>this.l(L)};try{await Promise.resolve(h(D)),this.k()}catch(L){this.l(L)}finally{D.emitOne=void 0,D.emitMany=void 0,D.reject=void 0}})}[Symbol.asyncIterator](){let h=0;return{next:async()=>{do{if(this.a===te.DoneError)throw this.d;if(h<this.b.length)return{done:!1,value:this.b[h++]};if(this.a===te.DoneOK)return{done:!0,value:void 0};await y.Event.toPromise(this.g.event)}while(!0)},return:async()=>(this.f?.(),{done:!0,value:void 0})}}static map(h,T){return new Y(async D=>{for await(const L of h)D.emitOne(T(L))})}map(h){return Y.map(this,h)}static filter(h,T){return new Y(async D=>{for await(const L of h)T(L)&&D.emitOne(L)})}filter(h){return Y.filter(this,h)}static coalesce(h){return Y.filter(h,T=>!!T)}coalesce(){return Y.coalesce(this)}static async toPromise(h){const T=[];for await(const D of h)T.push(D);return T}toPromise(){return Y.toPromise(this)}h(h){this.a===te.Initial&&(this.b.push(h),this.g.fire())}j(h){this.a===te.Initial&&(this.b=this.b.concat(h),this.g.fire())}k(){this.a===te.Initial&&(this.a=te.DoneOK,this.g.fire())}l(h){this.a===te.Initial&&(this.a=te.DoneError,this.d=h,this.g.fire())}}e.$6h=Y;class de extends Y{constructor(h,T){super(T),this.m=h}cancel(){this.m.cancel()}}e.$7h=de;function $e(p){const h=new S.$xe,T=p(h.token);return new de(h,async D=>{const L=h.token.onCancellationRequested(()=>{L.dispose(),h.dispose(),D.reject(new m.$7)});try{for await(const W of T){if(h.token.isCancellationRequested)return;D.emitOne(W)}L.dispose(),h.dispose()}catch(W){L.dispose(),h.dispose(),D.reject(W)}})}class be{constructor(h){this.a=new he,this.b=new Y(L=>{if(T){L.reject(T);return}return D&&L.emitMany(D),this.d=W=>L.reject(W),this.f=W=>L.emitOne(W),this.a.p},h);let T,D;this.f=L=>{D||(D=[]),D.push(L)},this.d=L=>{T||(T=L)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(h){this.d(h),this.a.complete()}emitOne(h){this.f(h)}}e.$9h=be}),define(K[27],Z([0,1,43,12]),function(B,e,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$jD=void 0,e.$kD=y,e.$lD=w,e.$jD=new class{clone(){return this}equals(l){return this===l}};function y(l,i){return new S.$Au([new S.$zu(0,"",l)],i)}function w(l,i){const r=new Uint32Array(2);return r[0]=0,r[1]=(l<<m.MetadataConsts.LANGUAGEID_OFFSET|m.StandardTokenType.Other<<m.MetadataConsts.TOKEN_TYPE_OFFSET|m.FontStyle.None<<m.MetadataConsts.FONT_STYLE_OFFSET|m.ColorId.DefaultForeground<<m.MetadataConsts.FOREGROUND_OFFSET|m.ColorId.DefaultBackground<<m.MetadataConsts.BACKGROUND_OFFSET)>>>0,new S.$Bu(r,i===null?e.$jD:i)}}),define(K[44],Z([0,1,26,8,5,45,18,20,53,12,27,38,21,11]),function(B,e,S,m,y,w,l,i,r,c,u,d,g,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$tD=e.$sD=e.$rD=e.$qD=e.$pD=e.$oD=void 0;var n;(function(j){j[j.CHEAP_TOKENIZATION_LENGTH_LIMIT=2048]="CHEAP_TOKENIZATION_LENGTH_LIMIT"})(n||(n={}));class t{constructor(o,b){this.tokenizationSupport=b,this.a=this.tokenizationSupport.getInitialState(),this.store=new a(o)}getStartState(o){return this.store.getStartState(o,this.a)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.a)}}e.$oD=t;class s extends t{constructor(o,b,O,q){super(o,b),this._textModel=O,this._languageIdCodec=q}updateTokensUntilLine(o,b){const O=this._textModel.getLanguageId();for(;;){const q=this.getFirstInvalidLine();if(!q||q.lineNumber>b)break;const H=this._textModel.getLineContent(q.lineNumber),V=E(this._languageIdCodec,O,this.tokenizationSupport,H,!0,q.startState);o.add(q.lineNumber,V.tokens),this.store.setEndState(q.lineNumber,V.endState)}}getTokenTypeIfInsertingCharacter(o,b){const O=this.getStartState(o.lineNumber);if(!O)return c.StandardTokenType.Other;const q=this._textModel.getLanguageId(),H=this._textModel.getLineContent(o.lineNumber),V=H.substring(0,o.column-1)+b+H.substring(o.column-1),C=E(this._languageIdCodec,q,this.tokenizationSupport,V,!0,O),A=new $.$su(C.tokens,V,this._languageIdCodec);if(A.getCount()===0)return c.StandardTokenType.Other;const N=A.findTokenIndexAtOffset(o.column-1);return A.getStandardTokenType(N)}tokenizeLineWithEdit(o,b,O){const q=o.lineNumber,H=o.column,V=this.getStartState(q);if(!V)return null;const C=this._textModel.getLineContent(q),A=C.substring(0,H-1)+O+C.substring(H-1+b),N=this._textModel.getLanguageIdAtPosition(q,0),v=E(this._languageIdCodec,N,this.tokenizationSupport,A,!0,V);return new $.$su(v.tokens,A,this._languageIdCodec)}hasAccurateTokensForLine(o){const b=this.store.getFirstInvalidEndStateLineNumberOrMax();return o<b}isCheapToTokenize(o){const b=this.store.getFirstInvalidEndStateLineNumberOrMax();return o<b||o===b&&this._textModel.getLineLength(o)<n.CHEAP_TOKENIZATION_LENGTH_LIMIT}tokenizeHeuristically(o,b,O){if(O<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(b<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(o,O),{heuristicTokens:!1};let q=this.b(b);const H=this._textModel.getLanguageId();for(let V=b;V<=O;V++){const C=this._textModel.getLineContent(V),A=E(this._languageIdCodec,H,this.tokenizationSupport,C,!0,q);o.add(V,A.tokens),q=A.endState}return{heuristicTokens:!0}}b(o){let b=this._textModel.getLineFirstNonWhitespaceColumn(o);const O=[];let q=null;for(let C=o-1;b>1&&C>=1;C--){const A=this._textModel.getLineFirstNonWhitespaceColumn(C);if(A!==0&&A<b&&(O.push(this._textModel.getLineContent(C)),b=A,q=this.getStartState(C),q))break}q||(q=this.tokenizationSupport.getInitialState()),O.reverse();const H=this._textModel.getLanguageId();let V=q;for(const C of O)V=E(this._languageIdCodec,H,this.tokenizationSupport,C,!1,V).endState;return V}}e.$pD=s;class a{constructor(o){this.d=o,this.a=new f,this.b=new k,this.b.addRange(new r.$Ot(1,o+1))}getEndState(o){return this.a.getEndState(o)}setEndState(o,b){if(!b)throw new m.$eb("Cannot set null/undefined state");this.b.delete(o);const O=this.a.setEndState(o,b);return O&&o<this.d&&this.b.addRange(new r.$Ot(o+1,o+2)),O}acceptChange(o,b){this.d+=b-o.length,this.a.acceptChange(o,b),this.b.addRangeAndResize(new r.$Ot(o.startLineNumber,o.endLineNumberExclusive),b)}acceptChanges(o){for(const b of o){const[O]=(0,l.$ru)(b.text);this.acceptChange(new i.$Qt(b.range.startLineNumber,b.range.endLineNumber+1),O+1)}}invalidateEndStateRange(o){this.b.addRange(new r.$Ot(o.startLineNumber,o.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this.b.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this.b.min===null}getStartState(o,b){return o===1?b:this.getEndState(o-1)}getFirstInvalidLine(o){const b=this.getFirstInvalidEndStateLineNumber();if(b===null)return null;const O=this.getStartState(b,o);if(!O)throw new m.$eb("Start state must be defined");return{lineNumber:b,startState:O}}}e.$qD=a;class f{constructor(){this.a=new d.$mD(null)}getEndState(o){return this.a.get(o)}setEndState(o,b){const O=this.a.get(o);return O&&O.equals(b)?!1:(this.a.set(o,b),!0)}acceptChange(o,b){let O=o.length;b>0&&O>0&&(O--,b--),this.a.replace(o.startLineNumber,O,b)}acceptChanges(o){for(const b of o){const[O]=(0,l.$ru)(b.text);this.acceptChange(new i.$Qt(b.range.startLineNumber,b.range.endLineNumber+1),O+1)}}}e.$rD=f;class k{constructor(){this.a=[]}getRanges(){return this.a}get min(){return this.a.length===0?null:this.a[0].start}removeMin(){if(this.a.length===0)return null;const o=this.a[0];return o.start+1===o.endExclusive?this.a.shift():this.a[0]=new r.$Ot(o.start+1,o.endExclusive),o.start}delete(o){const b=this.a.findIndex(O=>O.contains(o));if(b!==-1){const O=this.a[b];O.start===o?O.endExclusive===o+1?this.a.splice(b,1):this.a[b]=new r.$Ot(o+1,O.endExclusive):O.endExclusive===o+1?this.a[b]=new r.$Ot(O.start,o):this.a.splice(b,1,new r.$Ot(O.start,o),new r.$Ot(o+1,O.endExclusive))}}addRange(o){r.$Ot.addRange(o,this.a)}addRangeAndResize(o,b){let O=0;for(;!(O>=this.a.length||o.start<=this.a[O].endExclusive);)O++;let q=O;for(;!(q>=this.a.length||o.endExclusive<this.a[q].start);)q++;const H=b-o.length;for(let V=q;V<this.a.length;V++)this.a[V]=this.a[V].delta(H);if(O===q){const V=new r.$Ot(o.start,o.start+b);V.isEmpty||this.a.splice(O,0,V)}else{const V=Math.min(o.start,this.a[O].start),C=Math.max(o.endExclusive,this.a[q-1].endExclusive),A=new r.$Ot(V,C+H);A.isEmpty?this.a.splice(O,q-O):this.a.splice(O,q-O,A)}}toString(){return this.a.map(o=>o.toString()).join(" + ")}}e.$sD=k;function E(j,o,b,O,q,H){let V=null;if(b)try{V=b.tokenizeEncoded(O,q,H.clone())}catch(C){(0,m.$3)(C)}return V||(V=(0,u.$lD)(j.encodeLanguageId(o),H)),$.$su.convertToEndOffset(V.tokens,O.length),V}class I{constructor(o,b){this.b=o,this.d=b,this.a=!1,this.f=!1}dispose(){this.a=!0}handleChanges(){this.g()}g(){this.f||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.f=!0,(0,S.$Vh)(o=>{this.f=!1,this.h(o)}))}h(o){const b=Date.now()+o.timeRemaining(),O=()=>{this.a||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.j(),Date.now()<b?(0,y.$B)(O):this.g())};O()}j(){const o=this.b._textModel.getLineCount(),b=new g.$nD,O=w.$ge.create(!1);do if(O.elapsed()>1||this.l(b)>=o)break;while(this.k());this.d.setTokens(b.finalize()),this.checkFinished()}k(){return this.b?!this.b.store.allStatesValid():!1}l(o){const b=this.b?.getFirstInvalidLine();return b?(this.b.updateTokensUntilLine(o,b.lineNumber),b.lineNumber):this.b._textModel.getLineCount()+1}checkFinished(){this.a||this.b.store.allStatesValid()&&this.d.backgroundTokenizationFinished()}requestTokens(o,b){this.b.store.invalidateEndStateRange(new i.$Qt(o,b))}}e.$tD=I}),define(K[46],Z([0,1,15,2,45,12,43]),function(B,e,S,m,y,w,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$3Nb=void 0;class i extends m.$Wc{constructor(c,u,d,g,$,n,t){super(),this.c=c,this.f=u,this.g=d,this.h=g,this.j=$,this.m=n,this.n=t,this.a=[],this.b=this.B(new S.$me),this.onDidEncounterLanguage=this.b.event}get backgroundTokenizerShouldOnlyVerifyTokens(){return this.j()}getInitialState(){return this.f}tokenize(c,u,d){throw new Error("Not supported!")}createBackgroundTokenizer(c,u){if(this.h)return this.h(c,u)}tokenizeEncoded(c,u,d){const g=Math.random()*1e4<1,$=this.n||g,n=$?new y.$ge(!0):void 0,t=this.c.tokenizeLine2(c,d,500);if($){const a=n.elapsed();(g||a>32)&&this.m(a,c.length,g)}if(t.stoppedEarly)return console.warn(`Time limit reached when tokenizing line: ${c.substring(0,100)}`),new l.$Bu(t.tokens,d);if(this.g){const a=this.a,f=t.tokens;for(let k=0,E=f.length>>>1;k<E;k++){const I=f[(k<<1)+1],j=w.$nu.getLanguageId(I);a[j]||(a[j]=!0,this.b.fire(j))}}let s;return d.equals(t.ruleStack)?s=d:s=t.ruleStack,new l.$Bu(t.tokens,s)}}e.$3Nb=i}),define(K[47],Z([0,1,27,2,16]),function(B,e,S,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4Nb=void 0;class w extends m.$Wc{get backgroundTokenizerShouldOnlyVerifyTokens(){return this.b.backgroundTokenizerShouldOnlyVerifyTokens}constructor(i,r,c,u){super(),this.a=i,this.b=r,this.c=u,this.B((0,y.keepObserved)(this.c)),this.B(c)}getInitialState(){return this.b.getInitialState()}tokenize(i,r,c){throw new Error("Not supported!")}tokenizeEncoded(i,r,c){return i.length>=this.c.get()?(0,S.$lD)(this.a,c):this.b.tokenizeEncoded(i,r,c)}createBackgroundTokenizer(i,r){if(this.b.createBackgroundTokenizer)return this.b.createBackgroundTokenizer(i,r)}}e.$4Nb=w}),define(K[48],Z([0,1,42,26,16,5,20,54,44,21,11,46,47,2]),function(B,e,S,m,y,w,l,i,r,c,u,d,g,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9Nb=void 0;class n extends i.$hw{constructor(a,f,k,E,I,j,o,b){super(a,f,k,E),this.s=I,this.t=j,this.u=o,this.a=null,this.b=!1,this.c=(0,y.observableValue)(this,-1),this.q=new m.$Rh(()=>this.w(),10),this.c.set(b,void 0),this.v()}dispose(){this.b=!0,super.dispose()}onLanguageId(a,f){this.t=a,this.u=f,this.v()}onEvents(a){super.onEvents(a),this.a?.store.acceptChanges(a.changes),this.q.schedule()}acceptMaxTokenizationLineLength(a){this.c.set(a,void 0)}retokenize(a,f){this.a&&(this.a.store.invalidateEndStateRange(new l.$Qt(a,f)),this.q.schedule())}async v(){this.a=null;const a=this.t,f=this.u,k=await this.s.getOrCreateGrammar(a,f);if(!(this.b||a!==this.t||f!==this.u||!k)){if(k.grammar){const E=new g.$4Nb(this.u,new d.$3Nb(k.grammar,k.initialState,!1,void 0,()=>!1,(I,j,o)=>{this.s.reportTokenizationTime(I,a,k.sourceExtensionId,j,o)},!1),$.$Wc.None,this.c);this.a=new r.$oD(this.f.length,E)}else this.a=null;this.w()}}async w(){if(this.b||!this.a)return;if(!this.m){const{diffStateStacksRefEq:f}=await(0,S.$oE)("vscode-textmate","release/main.js");this.m=f}const a=new Date().getTime();for(;;){let f=0;const k=new c.$nD,E=new t;for(;;){const o=this.a.getFirstInvalidLine();if(o===null||f>200)break;f++;const b=this.f[o.lineNumber-1],O=this.a.tokenizationSupport.tokenizeEncoded(b,!0,o.startState);if(this.a.store.setEndState(o.lineNumber,O.endState)){const H=this.m(o.startState,O.endState);E.setState(o.lineNumber,H)}else E.setState(o.lineNumber,null);if(u.$su.convertToEndOffset(O.tokens,b.length),k.add(o.lineNumber,O.tokens),new Date().getTime()-a>20)break}if(f===0)break;const I=E.getStateDeltas();if(this.s.setTokensAndStates(this.h,k.serialize(),I),new Date().getTime()-a>20){(0,w.$B)(()=>this.w());return}}}}e.$9Nb=n;class t{constructor(){this.a=-1,this.b=[]}setState(a,f){a===this.a+1?this.b[this.b.length-1].stateDeltas.push(f):this.b.push({startLineNumber:a,stateDeltas:[f]}),this.a=a}getStateDeltas(){return this.b}}}),define(K[49],Z([0,1,25]),function(B,e,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$6Nb=void 0,S=x(S);class m{constructor(){this.a=Object.create(null)}reset(){this.a=Object.create(null)}register(w){if(this.a[w.scopeName]){const l=this.a[w.scopeName];S.$_g(l.location,w.location)||console.warn(`Overwriting grammar scope name to file mapping for scope ${w.scopeName}.
Old grammar file: ${l.location.toString()}.
New grammar file: ${w.location.toString()}`)}this.a[w.scopeName]=w}getGrammarDefinition(w){return this.a[w]||null}}e.$6Nb=m}),define(K[50],Z([0,1,2,49]),function(B,e,S,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$8Nb=e.$7Nb=void 0,e.$7Nb="No TM Grammar registered for this language.";class y extends S.$Wc{constructor(l,i,r,c){super(),this.a=l,this.b=r.INITIAL,this.c=new m.$6Nb,this.f={},this.g={},this.h=new Map,this.j=this.B(new r.Registry({onigLib:c,loadGrammar:async u=>{const d=this.c.getGrammarDefinition(u);if(!d)return this.a.logTrace(`No grammar found for scope ${u}`),null;const g=d.location;try{const $=await this.a.readFile(g);return r.parseRawGrammar($,g.path)}catch($){return this.a.logError(`Unable to load and parse grammar for scope ${u} from ${g}`,$),null}},getInjections:u=>{const d=u.split(".");let g=[];for(let $=1;$<=d.length;$++){const n=d.slice(0,$).join(".");g=[...g,...this.f[n]||[]]}return g}}));for(const u of i){if(this.c.register(u),u.injectTo){for(const d of u.injectTo){let g=this.f[d];g||(this.f[d]=g=[]),g.push(u.scopeName)}if(u.embeddedLanguages)for(const d of u.injectTo){let g=this.g[d];g||(this.g[d]=g=[]),g.push(u.embeddedLanguages)}}u.language&&this.h.set(u.language,u.scopeName)}}has(l){return this.h.has(l)}setTheme(l,i){this.j.setTheme(l,i)}getColorMap(){return this.j.getColorMap()}async createGrammar(l,i){const r=this.h.get(l);if(typeof r!="string")throw new Error(e.$7Nb);const c=this.c.getGrammarDefinition(r);if(!c)throw new Error(e.$7Nb);const u=c.embeddedLanguages;if(this.g[r]){const $=this.g[r];for(const n of $)for(const t of Object.keys(n))u[t]=n[t]}const d=Object.keys(u).length>0;let g;try{g=await this.j.loadGrammarWithConfiguration(r,i,{embeddedLanguages:u,tokenTypes:c.tokenTypes,balancedBracketSelectors:c.balancedBracketSelectors,unbalancedBracketSelectors:c.unbalancedBracketSelectors})}catch($){throw $.message&&$.message.startsWith("No grammar provided for")?new Error(e.$7Nb):$}return{languageId:l,grammar:g,initialState:this.b,containsEmbeddedLanguages:d,sourceExtensionId:c.sourceExtensionId}}}e.$8Nb=y}),define(K[55],Z([0,1,13,50,48]),function(B,e,S,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextMateTokenizationWorker=void 0,e.create=w;function w(i,r){return new l(i,r)}class l{constructor(r,c){this.f=c,this.b=new Map,this.c=[],this.a=r.host;const u=c.grammarDefinitions.map(d=>({location:S.URI.revive(d.location),language:d.language,scopeName:d.scopeName,embeddedLanguages:d.embeddedLanguages,tokenTypes:d.tokenTypes,injectTo:d.injectTo,balancedBracketSelectors:d.balancedBracketSelectors,unbalancedBracketSelectors:d.unbalancedBracketSelectors,sourceExtensionId:d.sourceExtensionId}));this.d=this.g(u)}async g(r){const c=this.f.textmateMainUri,u=await new Promise((t,s)=>{B([c],t,s)}).then(x),d=await new Promise((t,s)=>{B([this.f.onigurumaMainUri],t,s)}).then(x),$=await(await fetch(this.f.onigurumaWASMUri)).arrayBuffer();await d.loadWASM($);const n=Promise.resolve({createOnigScanner:t=>d.createOnigScanner(t),createOnigString:t=>d.createOnigString(t)});return new m.$8Nb({logTrace:t=>{},logError:(t,s)=>console.error(t,s),readFile:t=>this.a.readFile(t)},r,u,n)}acceptNewModel(r){const c=S.URI.revive(r.uri),u=this;this.b.set(r.controllerId,new y.$9Nb(c,r.lines,r.EOL,r.versionId,{async getOrCreateGrammar(d,g){const $=await u.d;return $?(u.c[g]||(u.c[g]=$.createGrammar(d,g)),u.c[g]):Promise.resolve(null)},setTokensAndStates(d,g,$){u.a.setTokensAndStates(r.controllerId,d,g,$)},reportTokenizationTime(d,g,$,n,t){u.a.reportTokenizationTime(d,g,$,n,t)}},r.languageId,r.encodedLanguageId,r.maxTokenizationLineLength))}acceptModelChanged(r,c){this.b.get(r).onEvents(c)}retokenize(r,c,u){this.b.get(r).retokenize(c,u)}acceptModelLanguageChanged(r,c,u){this.b.get(r).onLanguageId(c,u)}acceptRemovedModel(r){const c=this.b.get(r);c&&(c.dispose(),this.b.delete(r))}async acceptTheme(r,c){(await this.d)?.setTheme(r,c)}acceptMaxTokenizationLineLength(r,c){this.b.get(r).acceptMaxTokenizationLineLength(c)}}e.TextMateTokenizationWorker=l})}).call(this);

//# sourceMappingURL=https://main.vscode-cdn.net/sourcemaps/c2e20cb17fae44eb26611cb9a4690059cea0e605/core/vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker.js.map
